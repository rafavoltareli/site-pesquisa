(function(r){var t=window.AmazonUIPageJS||window.P,ia=t._namespace||t.attributeErrors,e=ia?ia("DetailPageImageBlockAssets",""):t;e.guardFatal?e.guardFatal(r)(e,window):e.execute(function(){r(e,window)})})(function(r,t,ia){r.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(e,a){try{var c=e.$,f=c("#featurebullets_feature_div"),k=c("#productOverview_feature_div");if(f&&0<f.length&&(a.postCountMetric("FeatureBulletsRendered.GV"),k&&0<k.length)){a.postCountMetric("FeatureBulletsRenderedWithPO.GV");
var d=c("#featurebullets_feature_div .a-expander-container");d&&0<d.length&&"feature-bullets-expander"===d.data("aExpanderName")&&(a.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),e.on("a:expander:feature-bullets-expander:toggle:expand",function(c){a.postCountMetric("FeatureBulletsInteraction.Expanded")}),e.on("a:expander:feature-bullets-expander:toggle:collapse",function(c){a.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(m){r.log("Feature bullets metric logging failed with error: ( "+
m+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";r.register("postMetric",function(){return{postCountMetric:function(e){if("undefined"!==typeof e){var a=t.ue;if(a){var c=a.count(e)||0;a.count(e,c+1)}}},postTimeMetric:function(e,a){if("undefined"!==typeof e&&"undefined"!==typeof a){var c=t.ue;c&&c.count(e,a)}},emitNexusMetric:function(e){t.ue&&ue.event&&ue.event(e,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(e,a,c,f,k,d,m,h){return{eventSource:"IBCarousel",
placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:e,intPayload:a,videoAsin:c,videoAsinList:"",groupType:f,pageUrl:k,pageAsin:d,weblabIds:m}}}});"use strict";r.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});r.register("postEarlyMetric",function(){return null});"use strict";r.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(e,a,c,f){e=e.extend(!0,{},c,f);var k=new a(e);r.register("ImageBlockAPI",
function(){return k.api});return k});"use strict";r.when("A","jQuery").execute(function(e,a){e.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(a("#landingImage"))});"use strict";r.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function a(a){a&&(r.load.js(a),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}
function c(a){a&&r.load.css(a)}var f=e.airyConfig;f===ia?r.when("ImageBlockBTF").execute(function(e){f=e.airyConfig;a(f.jsUrl);c(f.cssUrl)}):(a(f.jsUrl),c(f.cssUrl))});"use strict";r.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(e,a,c,f,k){var d={};return function(m){var h=this;h.dispatch=function(a,c){var h=d[a];f.isDefined(h)&&e.each(h,function(a,d){d.call(t,c)})};h.register=function(a,c){f.isDefined(d[a])||(d[a]=[]);
"function"===typeof c&&d[a].push(c)};h.model=new a(m,h);h.view=new c(m,h,h.model);h.api=new k(m,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});"use strict";r.when("A","imageBlockUtils").register("ImageBlockModel",function(e,a){function c(c,d,e,f,h,m){a.isDefined(c)&&(n.type=c);a.isDefined(d)&&(n.index=d);a.isDefined(e)&&(n.thumbnailIndex=e);a.isDefined(f)&&(n.variant=f);a.isDefined(h)&&(n.color=h);n.shoppableScene=m||null}function f(a){c("image",0,0,"MAIN",a||h.landingAsinColor||
h.defaultColor,null)}function k(a){a=a.data;J=e.copy(n);c(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function d(a){k(a);a=e.copy(a);a.data=e.copy(n);p.dispatch("updateView",a)}function m(){J=e.copy(n);f(n.color)}var h,p,n={},J={},H,t;return function(a,D){p=D;h=a;p.register("updateSelection",d);p.register("updateModel",k);p.register("resetModel",m);this.init=function(){f()};this.getCurrentItem=function(){return e.copy(n)};this.getPreviousItem=function(){return e.copy(J)};this.setCurrentEvent=
function(a){H=a};this.getCurrentEvent=function(){return H};this.setImmersiveViewModalInstance=function(a){t=a};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=function(a){h.title=a};this.setToPreviousItem=function(){c(J.type,J.index,J.thumbnailIndex,J.variant,J.color,J.shoppableScene)};this.setToCurrentItem=function(a){c(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";r.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",
function(e,a){function c(a,c,f,h,p){function n(a){"click"===a.type&&h.postCountMetric("thumbClick");"click"===a.type&&x.overrideAltImageClickAction?A.dispatch("thumbActionClick",a):A.dispatch("updateSelection",a)}function J(a){x.useClickZoom||A.dispatch("imageClick",a)}function H(a){x.useClickZoom||A.dispatch("imageHover",a)}function E(a){A.dispatch("button360Click",a)}function w(c){!f.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(b.update(c),"swatchHover"!==c.type&&l.getPreviousItem().thumbnailIndex!==
c.data.thumbnailIndex&&h.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(b.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",c))}function D(a){A.dispatch("resize",a)}function L(a){f.selectThumbnail(a,y)}function R(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function Q(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===e.useIV?r.when("a-modal").execute(function(){R()}):R();x.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],n);a.declarative("thumb-action",["click"],
n);a.declarative("main-image-click",["click"],J);a.declarative("main-image-click",["mouseenter","mouseleave"],H);a.declarative("button-360-click",["click"],E);a.on("resize",D)}function P(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function N(a){var b=l.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function B(a){f.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&f.updateThumbnailHoverDelay(a.$target)}var b,x,A,l,y;return function(a,
e,f){b=this;x=a;A=e;l=f;y=c("#imageBlock #altImages ul");var h=c("#imageBlock .canvas"),m=c("#main-image-container"),k;b.subViews=[];for(e=0;e<p.length;e++)b.subViews.push(new p[e](a,f,b,A));b.render=function(a,g,q,e){var f=0;y.find(".item").remove();a=a||l.getCurrentItem().color;c.each(b.subViews,function(b,c){f=(2===x.unrolledImageBlockTreatment||3===x.unrolledImageBlockTreatment?c.render(a,f,h,y,m,g,q,e):c.render(a,f,h,y,m,g,q))||f});var S=y.find(".a-button-selected").closest(".a-declarative");
k=N(S)};b.init=function(){y=c("#imageBlock #altImages ul");var a=y.find(".a-button-selected").closest(".a-declarative"),g=a.data("action"),a=a.data(g)||{};a.color=x.landingAsinColor||x.defaultColor;A.dispatch("updateModel",{data:a});b.render(a.color,!0);x.isDebug&&t.console&&console.log(x);A.register("updateView",w);A.register("selectThumbnail",L);Q()};b.update=function(a){B(a);c.each(b.subViews,function(b,c){c.update(a)});x.usePeekHover&&("mouseleave"===a.type?A.dispatch("updateSelection",k):"click"===
a.type&&(k=P(a)||k))}}}var f=["A","jQuery","imageBlockUtils","postMetric"].concat(e.views);r.when.apply(r,f).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],e=arguments[2],f=arguments[3],p=[],n=4,J=arguments.length;n<J;n++)p.push(arguments[n]);return c(a,d,e,f,p)})});"use strict";r.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(e,a,c,f,k,d,m){function h(b,g,q,
d){if(!c.isjQueryObjDefined(b.find(".a-button-selected"))){var e=y.getCurrentItem();if(!d||"chromeless-video"!==e.type||!l.autoplayVideo)if(d=0,"image"===e.type&&(d=Math.max(H(e.color,e.variant),0)),!(e.thumbnailIndex>=l.maxAlts&&0!=d)){var f=g+d;f>=q&&(d=0,f=g);g=c.getImageHash(e.color,d,l);-1!==g&&(F.dispatch("updateModel",{data:{index:d,thumbnailIndex:f,variant:g.variant,type:"image",shoppableScene:g.shoppableScene}}),g=b.find(".item").get(f),c.selectGivenThumbnail(a(g),b))}}}function p(b,g,q){if((2===
l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&q)return b;var e=l.colorImages&&l.colorImages[g];g=b;2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=e.length||b>=l.maxAlts)&&a(this).remove()});c.isDefined(e)&&(a.each(e,function(g,q){if(b<l.maxAlts)if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){b++;var d=a(".thumbItemUnrolled");d[g]?d[g].querySelector("img").src=
q.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+q.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else c.createThumbnail({type:"image",
index:g,thumbnailIndex:b,variant:q.variant,shoppableScene:q.shoppableScene},q.thumb,z,"imageThumbnail"),b++}),d.isEnabled&&m.logAltImgRequestPlacedOnThumbnails(a,d,y),h(z,g,b,q));return b}function n(a,b){l.useIV&&c.isDefined(b.hiRes)&&a.css("cursor","pointer")}function J(b,g){if("image"===b.type){var q=a("#image-canvas-caption #canvasCaption"),d,e=l.staticStrings,f=l.colorImages,h=b.color,m=b.index;c.isShoppableScenesEnabled()&&b.shoppableScene?d=e.clickSceneTagsToShopProducts:g&&l.useIV?d=e.clickToExpand:
f[h]&&f[h][m].hiRes&&l.useHoverZoom?(d=l.useHoverZoomIpad?e.touchToZoom:l.useClickZoom?e.clickToZoom:e.rollOverToZoom,l.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):l.useIV&&(d=e.clickToExpand);q.html(d)}}function H(a,b){return c.getIndexForVariant(a,b,l)}function E(a,b,c){var g=b.thumbnailIndex,q=l.colorToAsin[b.color]&&l.colorToAsin[b.color].asin;b="altImageHover"===c&&M&&M.altImageIdx===g&&M.asin===q&&"swatchClick"===M.event?!0:"swatchHover"===c?
M&&M.asin===q&&M.event===c:M&&M.altImageIdx===g&&M.asin===q&&M.event===c;if(!b){var d="#",e=a.find(".imgTagWrapper img").get(0);e&&(d=e.src);a=new Image;a.onload=function(){if(e){e.src=d;var a=e.width,b=e.height,f=e.naturalWidth,S=e.naturalHeight;try{var h=(Math.abs(a/f*S-b)/b).toFixed(2);.01<h&&(t.ue&&((("landing"!==c||G||O)&&"swatchClick"!==c||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==
c||O?"altImageHover"!==c||G||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),G=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),O=!0)),t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},t.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+q+" Event:"+c+" Diff:"+h.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+q+" at altImageIdx "+g+" Event:"+c+" Diff:"+h.toString()+
"]"},a)))}catch(l){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(l,a))}}};"#"!==d&&(a.src=d);M.altImageIdx=g;M.asin=q;M.event=c}}function w(b,g){var q="a-dynamic-image";if(!l.acEnabled){var d;a.each(b.main,function(a,b){c.isDefined(d)||(d=parseFloat(b[1]/b[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});q+=d}var e=c.getMaxDimensionsOfMainImage(b.main,I,l),f=e[0],h=e[1],e=a("\x3cdiv\x3e\x3c/div\x3e"),
f={"max-height":f,"max-width":h};e.addClass(q).css(f).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",b.main);return e}function D(a,b,c){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",g,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=v.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",
g);c.children("span").css("display","inline-block");F.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(c,g){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&
""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){e.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),g.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return c}function L(a,b,g){g=w(a,g);a=c.isShoppableScenesEnabled()&&a.shoppableScene?D(b,a,g):v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(g);v.find(".list").append(a);e.loadImageManually(g);return a}function R(a){var b=I.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");l.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function Q(a){if(a.isUserGenerated){var b=
y.getPreviousItem(),g=a.variant;c.isDefined(g)&&b.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&m.logAltImgRequestServed(d),k.postCountMetric("ImageThumbnailSelectedVariant:"+g),0===g.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+g),k.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function P(b,g,q,d){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&!d&&"unavailable"!==b.type)b=l.colorImages&&l.colorImages[q],a(".unrolledImg").each(function(b){a(this).remove()}),
c.isDefined(b)&&(a.each(b,function(b,c){if(b<l.maxAlts){var g=a(".unrolledImg");g[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=g.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),l.unrolledImageBlockLazyLoadEnabled||e.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),g());else if("image"===b.type||
"unavailable"===b.type||"lazy-loaded"===b.type){(q=c.isDefined(g))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=c.getImageHash(b.color,b.index,l);if(-1===d)return g={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},c.lazyLoadingRequired(b,y,l)||(F.dispatch("updateModel",g),c.showUnavailable(b.color)),-1;var f=v.find(".item.itemNo"+b.thumbnailIndex);c.isjQueryObjDefined(f)||(f=L(d,b.thumbnailIndex,g),q?(O=G=!1,E(f,b,"swatchClick")):E(f,b,"altImageHover"));R(f);F.dispatch("loadMagnifier");
J(b);n(f,d);Q(b);e.trigger("dp:image-block:update",d)}}function N(a){var b=Math.max(H(a.color,y.getCurrentItem().variant),0),b=c.getImageHash(a.color,b,l);if(-1===b)return c.lazyLoadingRequired(a,y,l)||c.showUnavailable(a.color),-1;var g=v.find(".swatchHoverExp"),q=w(b);g.find(".imgTagWrapper").html(q);e.loadImageManually(q);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");R(g);E(g,a,"swatchHover");e.trigger("dp:image-block:update",b)}function B(b,g){c.lazyLoadingRequired(b,y,l)||(a("#imageBlock").css("opacity",
"1"),v.css("opacity","1"),c.spinner(v,!1),v.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),g&&v.find(".list .item").remove())}function b(){var b=v.find(".item .imgTagWrapper"),g=c.getContainerHeight(I,l.holderRatio,l.holderMaxHeight);0<g&&(I.height(g),b.height(g));v.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&e.loadDynamicImage(this);var g=b.data("a-dynamic-image"),g=c.getMaxDimensionsOfMainImage(g,
I,l);b.css({"max-height":g[0]+"px","max-width":g[1]+"px"})})}function x(a){J(y.getCurrentItem(),"mouseenter"===a.type)}var A,l,y,F,K,T,z,v,I,M={},g,q=null,G=!1,O=!1;e.on("triggerImageAjax",function(a){var b=y.getCurrentItem().color;l.colorImages[b]||(l.colorImages[b]=a);a={type:"updatedData",data:y.getCurrentItem()};F.dispatch("updateView",a);(b=l.colorToAsin[b])&&b.asin&&r.register(c.rankedImagesReadyEvent(b.asin))});return function(d,e,f,h){A=this;l=d;y=e;F=h;l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];
A.render=function(b,d,e,f,h,m,k,G){v=2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment?e:a(".unrolledScrollBox");z=f;I=h;g=p(d,b,m);m?0===d&&E(v.find(".item.itemNo0"),y.getCurrentItem(),"landing"):(d=y.getCurrentItem(),c.lazyLoadingRequired(d,y,l)&&F.dispatch("updateModel",{data:{type:"lazy-loaded"}}));B(y.getCurrentItem(),!m);2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment?"swatchClick"===G&&l&&l.colorImages?(q=l.colorImages[b],P(y.getCurrentItem(),k,b,m)):
"updatedData"===G&&l&&l.colorImages&&l.colorImages[b]!==q&&(q=l.colorImages[b],P(y.getCurrentItem(),k,b,m)):P(y.getCurrentItem(),k,b,m);return g};c.isImageBlockGridViewHoverDelayEnabled()?A.update=function(b){var a=b.data;y.setCurrentEvent(b);"ingress"!==a.type&&"swatchHover"!==b.type&&(y.setToPreviousItem(),"mouseenter"===b.type?(T&&clearTimeout(T),T=setTimeout(function(){y.setToCurrentItem(a);B(b.data,!1)},c.getHoveringDelayTimer())):"mouseleave"===b.type?T&&clearTimeout(T):"click"===b.type&&(y.setToCurrentItem(a),
B(b.data,!1)));"swatchHover"===b.type?("ingress"!==a.type&&B(b.data,!1),a.color===y.getCurrentItem().color?P(y.getCurrentItem(),null,a.color,!0):b.captured||-1===N(a)||(b.captured=!0)):"image"===a.type&&(a.interaction=b.type,a.isUserGenerated=!0,"mouseenter"===b.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+g),K&&clearTimeout(K),K=setTimeout(function(){P(a,null,a.color,!0);l.usePeekHover||c.selectGivenThumbnail(b.$declarativeParent,z)},c.getHoveringDelayTimer())):"mouseleave"===
b.type?K&&clearTimeout(K):"click"===b.type&&(P(a,null,a.color,!0),c.selectGivenThumbnail(b.$declarativeParent,z),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+g)))}:A.update=function(b){var a=b.data;y.setCurrentEvent(b);"ingress"!==a.type&&B(b.data,!1);"swatchHover"===b.type?a.color===y.getCurrentItem().color?P(y.getCurrentItem(),null,a.color,!0):b.captured||-1===N(a)||(b.captured=!0):"image"===a.type&&(a.interaction=b.type,
a.isUserGenerated=!0,"mouseenter"===b.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+g),P(a,null,a.color,!0),l.usePeekHover&&"click"!==b.type||(c.selectGivenThumbnail(b.$declarativeParent,z),"click"===b.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+g))))};l.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");F.register("imageHover",x);F.register("resize",b)}});"use strict";r.when("A",
"jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(e,a,c,f,k,d,m){function h(d,e,f,h,l){if(!c.isjQueryObjDefined(d.find(".a-button-selected"))){var g=x.getCurrentItem();if(!h||"chromeless-video"!==g.type||!b.autoplayVideo){h=0;"image"===g.type&&(h=Math.max(c.getIndexForVariant(g.color,g.variant,b),0));var q=0;c.isDefined(b.heroImage[g.color])&&(q=b.heroImage[g.color].length);l=h-(e>=b.maxAlts?
b.maxAlts-l-q:0);e=0<=l?e+l:h+q;e>=f&&(h=0,e=q);f=c.getImageHash(g.color,h,b);-1!==f&&(A.dispatch("updateModel",{data:{index:h,thumbnailIndex:e,variant:f.variant,type:"image",shoppableScene:f.shoppableScene}}),f=d.find(".item").get(e),c.selectGivenThumbnail(a(f),d))}}}function p(a){if(!b.useChildVideos)return c.lazyLoadingRequired(x.getCurrentItem(),x,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var d=b.colorToAsin[a];if(d&&d.asin){var e={};e.params={asin:d.asin,productGroupID:b.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(e.success=function(b){videosOnTwisterRefresh(b)},f.load(VIDEO_AJAX_ENDPOINT,e));return b.colorToVideo&&b.colorToVideo[a]}}function n(e,f,k){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&k)return e;var B=p(f),N=c.isDefined(B)&&0<B.length&&b.alwaysIncludeVideo?1:0;f=b.colorImages&&b.colorImages[f];var B=e,g=0;c.isDefined(f)&&(a.each(f,function(d,f){if(g>=b.maxAlts-
N&&e<b.maxAlts+b.additionalNumberOfImageAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=a(".thumbItemUnrolled");h[e]?h[e].querySelector("img").src=f.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(e+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
(e+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(e+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else c.createThumbnail({type:"image",index:d,thumbnailIndex:e,variant:f.variant,shoppableScene:f.shoppableScene},f.thumb,l,"imageThumbnail");e++}g++}),d.isEnabled&&m.logAltImgRequestPlacedOnThumbnails(a,d,x),h(l,B,e,k,N));return e}function J(a,
d){b.useIV&&c.isDefined(d.hiRes)&&a.css("cursor","pointer")}function H(d,e){if("image"===d.type){var f=a("#image-canvas-caption #canvasCaption"),h,l=b.staticStrings,g=b.colorImages,q=d.color,m=d.index;c.isShoppableScenesEnabled()&&d.shoppableScene?h=l.clickSceneTagsToShopProducts:e&&b.useIV?h=l.clickToExpand:g[q]&&g[q][m].hiRes&&b.useHoverZoom?(h=b.useHoverZoomIpad?l.touchToZoom:b.useClickZoom?l.clickToZoom:l.rollOverToZoom,b.hoverZoomIndicator&&(h="\x3cimg src\x3d'"+b.staticImages.hoverZoomIcon+
"'/\x3e\x26nbsp;"+h)):b.useIV&&(h=l.clickToExpand);f.html(h)}}function E(d,e){var f="a-dynamic-image";if(!b.acEnabled){var h;a.each(d.main,function(a,g){c.isDefined(h)||(h=parseFloat(g[1]/g[0])<=parseFloat(b.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=h}var l=c.getMaxDimensionsOfMainImage(d.main,F,b),g=l[0],q=l[1],l=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":q};l.addClass(f).css(g).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",
d.main);return l}function w(b,a,c){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",d,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=y.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",d);c.children("span").css("display","inline-block");A.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,
imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(c,g){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){e.trigger("shoppable-scene-image-loaded",
{index:b,shoppableScene:a.shoppableScene})}),g.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return c}function D(b,a,d){d=E(b,d);b=c.isShoppableScenesEnabled()&&b.shoppableScene?w(a,b,d):y.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");b.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});b.find(".placeHolder").replaceWith(d);y.find(".list").append(b);e.loadImageManually(d);return b}function L(a){var c=F.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");b.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(b.imgTagWrapperClasses)}function R(d,f,h,l){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&!l&&"unavailable"!==d.type){d=b.colorImages&&
b.colorImages[h];f=a(".unrolledImg");h=p(h);var m=c.isDefined(h)&&0<h.length&&b.alwaysIncludeVideo?1:0;f.length>b.maxAlts&&f.each(function(c){c>=b.maxAlts&&a(this).remove()});c.isDefined(d)&&a.each(d,function(c,d){c<b.maxAlts-m+b.additionalNumberOfImageAlts&&c>=b.maxAlts-m&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+m+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(c+m)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(c+m)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){h=c.getImageHash(d.color,d.index,b);if(-1===h)return f={data:{index:0,thumbnailIndex:0,variant:"",
type:"unavailable"}},c.lazyLoadingRequired(d,x,b)||(A.dispatch("updateModel",f),c.showUnavailable(d.color)),-1;l=y.find(".item.itemNo"+d.thumbnailIndex);c.isjQueryObjDefined(l)||(l=D(h,d.thumbnailIndex,f));L(l);A.dispatch("loadMagnifier");H(d);J(l,h);e.trigger("dp:image-block:update",h)}}function Q(a){var d=x.getCurrentItem().color;b.colorImages[d]||(b.colorImages[d]=a);a={type:"updatedData",data:x.getCurrentItem()};A.dispatch("updateView",a);(d=b.colorToAsin[d])&&d.asin&&r.register(c.rankedImagesReadyEvent(d.asin))}
function P(){var d=y.find(".item .imgTagWrapper"),f=c.getContainerHeight(F,b.holderRatio,b.holderMaxHeight);0<f&&(F.height(f),d.height(f));y.find("img.a-dynamic-image").each(function(){var d=a(this);d.data("a-manual-replacement")&&e.loadDynamicImage(this);var f=d.data("a-dynamic-image"),f=c.getMaxDimensionsOfMainImage(f,F,b);d.css({"max-height":f[0]+"px","max-width":f[1]+"px"})})}function N(b){H(x.getCurrentItem(),"mouseenter"===b.type)}var B,b,x,A,l,y,F,K;return function(d,f,h,m){B=this;b=d;x=f;
A=m;e.on("triggerImageAjax",Q);b.colorImages[b.landingAsinColor]=b.colorImages[b.defaultColor];B.render=function(d,g,e,f,h,m,k){y=e;l=f;F=h;K=n(g,d,m);m||(g=x.getCurrentItem(),c.lazyLoadingRequired(g,x,b)&&A.dispatch("updateModel",{data:{type:"lazy-loaded"}}));g=x.getCurrentItem();e=!m;c.lazyLoadingRequired(g,x,b)||(a("#imageBlock").css("opacity","1"),y.css("opacity","1"),c.spinner(y,!1),y.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),e&&
y.find(".list .item").remove());R(x.getCurrentItem(),k,d,m);return K};B.update=function(b){};b.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");A.register("imageHover",N);A.register("resize",P)}});"use strict";r.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(e,a,c,f,k,d){function m(a){R?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor",
"-moz-zoom-in"),a.css("cursor","zoom-in"))}function h(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(c.isDefined(d))for(var d=d[1].split("_"),e=0;e<d.length;e++){var f=d[e].match(/^([A-Z]+)(\d+(\.\d+)?)$/);c.isDefined(f)&&(a[f[1]]=parseInt(f[2],10))}return a}function p(n,p){function N(){var a;p.useClickZoom?(a=p.offsetInClickZoom,a=[Math.min(1,Math.max(0,E[0]-(g[0]+a))/(g[2]-2*a)),Math.min(1,Math.max(0,E[1]-(g[1]+a))/(g[3]-2*a))]):a=v&&v.updatePosition();if(a&&z&&z.detailSize){var b=
[z.detailSize[0]-z.rect.width,z.detailSize[1]-z.rect.height];e.capabilities.rtl?z.detailImage.get(0).style.right=-(a[0]*b[0])+"px":z.detailImage.get(0).style.left=-(a[0]*b[0])+"px";z.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function B(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function b(b){var c=V?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";E=V?[c.pageX,c.pageY]:[b.pageX,b.pageY];if(e.capabilities.rtl){var g=a(t).width();E=V?[g-c.pageX,c.pageY]:[g-
b.pageX,b.pageY]}}function x(a){V&&a.preventDefault();b(a);p.useClickZoom?a=[g[0],g[1],g[0]+g[2],g[1]+g[3]]:(a=v?v.offset:n.offsetParent().offset(),a=H.acEnabled?[a.left,a.top,J.width()+a.left,J.height()+a.top]:[r[0]+a.left,r[1]+a.top,r[0]+r[2]+a.left,r[1]+r[3]+a.top]);E[0]<a[0]||E[1]<a[1]||E[0]>=a[2]||E[1]>=a[3]||H.acEnabled&&!B(n)?(p.fadeMagnifier?W||(W=!0,da=setTimeout(function(){A(!0)},500)):p.useClickZoom||A(),C&&(C=!1,clearTimeout(Z))):(C||(C=!0,Z=setTimeout(function(){f.postCountMetric("dppc_hoverZoomOpened");
k.isEnabled&&d.logHoverZoomRequestServed(k)},1E3)),p.fadeMagnifier&&W&&(W=!1,clearTimeout(da)),N())}function A(b){b&&w.suppressMagnifier(!0);if(G&&(z&&z.hide(),v&&(v.destroy(),v=null),G=!1,V?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),y(),b))n.one("click.magnifier touchstart.magnifier",function(a){l(a,!0)})}function l(c,d){d&&w.suppressMagnifier(!1);if(!G&&
!O&&(0===Y&&(f.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),Y=1),L[S]||(f.postCountMetric("dppc_hoverMain"),L[S]=1),r=[n.position().left,n.position().top,n.width(),n.height()],S&&(b(c),z?z.refit().show():z=new ha,p.useClickZoom||(v=v||new ca),g=z.getWindowSize(),N()),G=!0,V?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",x).bind("touchend.magnifier",A),a(document).trigger("engaged.magnifier")):(H.acEnabled?J.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",x)),d)){var e=a("#zoomWindow");if(0<e.length)e.one("click.magnifier touchend.magnifier",function(a){A(!0)})}}function y(){p.useHoverZoom&&(V?n.bind("touchstart.magnifier touchmove.magnifier",l):H.acEnabled?B(n)&&J.bind("mousemove.magnifier",l):n.bind("mousemove.magnifier",l))}var w=this,J=n.offsetParent(),D={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};p=
a.extend(D,p);p.adjustment=[10,0,-10,0];var z=null,v=null,E=null,r=null,g=null,q={"null":1,"":1,undefined:1},G=!1,O=!1,S=p.detailImageUrl,V=p.useHoverZoomIpad||0,Y=0,L={},ca=function(){function b(a){var c=Math.round(Math.min(n.width(),z.rect.width/a));a=Math.round(Math.min(n.height(),z.rect.height/a));f.css({width:c,height:a});g=[c,a]}var c=this,g=[0,0],d=(z.detailSize&&z.detailSize[0]||5E8)/r[2],e=(z.detailSize&&z.detailSize[1]||5E8)/r[3],d=e>d?e:d;a("#magnifierLens").remove();var f=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
p.generalImageUrls.zoomLensBackground&&f.css({backgroundImage:"url("+p.generalImageUrls.zoomLensBackground+")"});H.showMagnifierOnHover?m(f):f.css("cursor","pointer");c.updatePosition=function(){var a=[r[2]-g[0],r[3]-g[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(E[0]-g[0]/2-r[0]-c.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(E[1]-g[1]/2-r[1]-c.offset.top)/a[1])),e=r[0]+Math.round(b*a[0]),a=r[1]+Math.round(d*a[1]);f.get(0).style.left=e+"px";f.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){f.remove()};
c.offset=n.offsetParent().offset();b(d);c.updatePosition();f.appendTo(n.parent());z.detailImage[0].complete||z.detailImage.load(function(){var a=z.detailImage.width()/r[2];b(a);c.updatePosition()})};ca.preload=function(){w.preload(p.generalImageUrls.lensBackgroundUrl)};var ha=function(){function b(){var g={};if("over"===p.location){var g=p.useClickZoom,f={},h=a("#leftCol"),l=a("#centerCol"),m=a("#rightCol"),u=a("#hover-zoom-end"),k=a("#actionPanelContainer"),G=c.isjQueryObjDefined(h)?h.outerHeight():
l.outerHeight();f.top=c.isjQueryObjDefined(h)?h.offset().top:l.offset().top;f.bottom=G+f.top;f.right=c.isjQueryObjDefined(m)?m.offset().left:k.offset().left;f.left=g?0:h.offset().left+h.outerWidth();c.isjQueryObjDefined(u)&&u.offset().top>f.bottom&&(f.bottom=u.offset().top);g=f}else"right"===p.location&&(g=n.offset(),g={left:g.left+n.outerWidth(),top:g.top,right:g.left+n.outerWidth()+400,bottom:g.top+400});p.minHeightElement&&(g.bottom=Math.max(g.bottom,g.top+a(p.minHeightElement).outerHeight()));
g.bottom=Math.min(g.bottom,a(t).scrollTop()+a(t).height());g.left+=e[0];g.top+=e[1];g.right+=e[2];g.bottom+=e[3];g.width=g.right-g.left;g.height=g.bottom-g.top;p.enhancedHoverOverlay&&c.isDefined(t.pageXOffset)&&(f=a(t).width(),g.width=f-g.left+t.pageXOffset-18,g.height-=14);q.css({left:g.left,top:g.top,width:g.width,height:g.height});d.rect=g;return d}function g(a){var b=new Image;d.detailSize=[0,0];b.onload=function(){d.detailSize=[b.width,b.height];N()};b.src=a.attr("src");if(0<b.width&&0<b.height)d.detailSize=
[b.width,b.height];else if(p.detailImageSize)d.detailSize=p.detailImageSize;else{a=h(b.src);var c=r[2]/r[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?d.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(d.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var d=this,e=p.adjustment;a("#zoomWindow").remove();var f={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:p.zIndex};p.enhancedHoverOverlay&&(f.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
f.border="1px solid #949494",f.borderColor="rgb(148,148,148)");var q=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(f);p.fadeMagnifier&&q.fadeIn(200);p.useClickZoom&&(R?q.css("cursor",'url("'+p.zoomOutIcon+'"), auto'):(q.css("cursor","-webkit-zoom-out"),q.css("cursor","-moz-zoom-out"),q.css("cursor","zoom-out")));d.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+b+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();q.append(b);a(document).trigger("updated.magnifier");
d.detailImage=b;g(d.detailImage)};d.refit=function(){b();g(d.detailImage);return d};p.fadeMagnifier?(d.show=function(){q.fadeIn(200);return d},d.hide=function(){q.fadeOut(200);return d}):(d.show=function(){q.show();return d},d.hide=function(){q.hide();return d});d.destroy=function(){q.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,d.rect.height]};d.updateImage(S);b();q.appendTo(document.body)},W=!1,da,C=!1,Z;w.preload=function(b){b=a.makeArray(b);for(var c=
b.length,g=0;g<c;g++)b[g]instanceof Array?w.preload(b[g]):"string"===typeof b[g]&&b[g]&&!q[b[g]]&&(q[b[g]]=new Image,q[b[g]].src=b[g])};w.changeImage=function(b,c){G&&A();S=c;n.attr("src",b);w.preload(b);r=[n.position().left,n.position().top,n.width(),n.height()];c&&("immediately"===p.preload?w.preload(c,!0):a(t).ready(function(){w.preload(c)}),z?z.updateImage(c):n.attr("data-old-hires",c))};w.destroy=function(){H.acEnabled?J.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");v&&v.destroy();v=null;z&&z.destroy();z=null};w.detailImage=function(){return z.detailImage};w.suppressMagnifier=function(a){O=a};w.isEngaged=function(){return G};w.engageMagnifier=l;w.disengageMagnifier=A;n[0].complete?y():n.one("load",y);w.preload(n.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(p.preload){var la=
p.detailImageUrl,D=function(){w.preload(la,!0);p.useClickZoom||ca.preload()},aa=p.preload;aa.constructor!==Array&&(aa=[aa]);for(var u=0;u<aa.length;u++)if("immediately"===aa[u])D();else if(a(t)[aa[u]])a(t)[aa[u]](D);else a(t).bind(aa[u],D)}return w}function n(){if(H.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:H.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:H.useHoverZoomIpad,useHoverZoom:H.useHoverZoom,useClickZoom:H.useClickZoom,
fadeMagnifier:H.fadeMagnifier,zoomOutIcon:H.staticImages.zoomOutCur,enhancedHoverOverlay:H.enhancedHoverOverlay||H.atfEnhancedHoverOverlay};D&&(D.destroy(),D=ia);var e=r.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");c.isjQueryObjDefined(e)?H.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){D=new p(e,f);D.engageMagnifier(a,!0)}),R?e.css("cursor",'url("'+H.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),
e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):D=new p(e,f):k.isEnabled&&d.logHoverZoomApplicability(a,k)}}var J,H,E,w,D,r,R=navigator.userAgent.match(/msie|trident/i);return function(a,c,d,f){J=this;H=a;E=c;k.refToModel=E;w=f;J.render=function(a,c,d,f,e,h){r=d;D&&(D.destroy(),D=ia)};J.update=function(a){};w.register("loadMagnifier",n);w.register("resize",n)}});"use strict";r.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(e,a,c,f){function k(a,
d,e){a=(a=e?e:c.getColorFromState(d.getState().hovered_variations,h))&&""!==a?a:h.defaultColor;n.dispatch("updateView",{type:"swatchHover",data:{color:a}});f.postCountMetric("swatchHover")}function d(a,d,e,m){a=(a=m?m:c.getColorFromState(d.getState().selected_variations,h))&&""!==a?a:h.defaultColor;a===p.getCurrentItem().color?"function"===typeof e&&e():(n.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a);e()}}),f.postCountMetric("swatchClick"))}var m,h,p,n;return function(a,c,f,w){m=this;h=a;p=c;n=w;e.on("image-block-twister-swatch-hover",k);e.on("image-block-twister-swatch-click",d);m.render=function(a,c,d,e,f){};m.update=function(a){}}});"use strict";r.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(e,a,c,f,k,d,m){function h(c,g,d,e){!b.autoplayVideo||
ha||b.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&(d=x.getCurrentItem(),!e||b.prioritizeVideos||"chromeless-video"===d.type&&b.autoplayVideo)&&(e=f.getVideoHash(d.color,0,b),-1===e||d.thumbnailIndex>=b.maxAlts-1||(g+=0,A.dispatch("updateModel",{data:{index:0,thumbnailIndex:g,variant:e.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),g=c.find(".item").get(g),f.selectGivenThumbnail(a(g),c))):(f.selectGivenThumbnail(c.find("img:last"),
c),f.fadeToThumbnail(c.find("img").length-1,K,c))}function p(a){var c=x.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[c]){var g=function(){if(a){b.colorToVideo[c]=a;var g={type:"updatedData",data:x.getCurrentItem()};A.dispatch("updateView",g)}};b.lazyLoadExperienceDisabled?g():r.when(f.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){g()})}}function n(a){if(!b.useChildVideos)return f.lazyLoadingRequired(x.getCurrentItem(),x,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];
var c=b.colorToAsin[a];if(c&&c.asin){var g={};g.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(g.success=function(a){p(a)},k.load("/gp/product/features/apparel-main-image/videos.html",g));return b.colorToVideo&&b.colorToVideo[a]}}function J(a){z&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(z.hide(),y.parent().css("z-index",-1),F.hide())}function H(){A.dispatch("selectThumbnail",
f.useTabbedImmersiveView(b)?1:0)}function E(b,g,e,q){return c.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:b[0],streamingUrls:g.url,swfUrl:e.swfUrl,foresterMetadataParams:e.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=f.isjQueryObjDefined(b.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){b.parent().css("z-index",8)},videounsupported:function(){H();
d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){H();d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){z.seek(0)}},cuePoints:[{values:g.durationSeconds-1,type:"position",callback:function(c,g,d){c=d.durationSeconds-d.playheadTimeSeconds;b.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*c,.1,function(){b.parent().css({"background-color":"transparent","z-index":-1});H();a(this).show().css("opacity",1)})}}]})}function w(c,
d){if("chromeful-video"===c.type||"chromeless-video"===c.type||"unrolled-video-add"===d){var h=f.getVideoHash(c.color,c.index,b);if(-1===h)return-1;if("chromeful-video"===c.type)a:{var m=c.thumbnailIndex+1,k=K.width()/K.height(),u=parseInt(h.videoWidth,10),p=parseInt(h.videoHeight,10);f.updateAspectRatio(k,u,p,y);if(z&&"unrolled-video-add"!==d)z.show(),f.loadMediaIntoAiry(z,h,v,b.tabletWeb);else if(b.tabletWeb)z=g;else if(z=f.createAiryInstanceForChromefulNotUseTabbedImmersiveView(y,h,v,null,b.autoplayVideo,
K,F,l,m,b.useTabbedImmersiveView,G,q,O,d),"unrolled-video-add"===d){z.show();f.loadMediaIntoAiry(z,h,v,b.tabletWeb);break a}b:if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(b)){if(1<f.getVideosCount(x.getCurrentItem().color,b)){if(f.isDefined(T)){F.show();break b}T=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);F.find("#videoCaption").append(T);e.declarative.create(T,"videoIngressClick",I)}f.playVideoInImmersiveView(b,
x.getCurrentItem().color)&&(e.declarative.create(y,"videoIngressClick",I),y.attr&&y.attr("data-ux-click",""),y.children().css("z-index","-1"),y.css("display","inline-block"))}else F.find("#videoCaption").text(b.staticStrings.playVideo),F.show();h=z;b.autoplayVideo&&h&&!ha&&(f.toggleVideoCaption(F),h.setVolume(0),h.show(),h.play(),ha=!0)}else if(z&&"unrolled-video-add"!==d)z.show(),f.loadMediaIntoAiry(z,h,v,b.tabletWeb),z.play(),F.show();else if(z=E(y,h,v))"unrolled-video-add"===d&&(z.show(),f.loadMediaIntoAiry(z,
h,v,b.tabletWeb)),z.play()}}function D(c,g,m){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&m)return c;var k=n(g);g=c;var p=a(".unrolledImg"),u=f.isDefined(k)&&0<k.length&&b.alwaysIncludeVideo?1:0;f.isDefined(k)&&0<k.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&d.postCountMetric("IBVideoDrop");p.length>b.maxAlts&&p.each(function(c){c>=b.maxAlts&&a(this).remove()});u&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),
a(".unrolledImg").last().remove()):l.find(".item:last").remove(),c--);f.isDefined(k)&&(a.each(k,function(g,e){if(c<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+g+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));2===b.dp60VideoPosition&&L(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",m={type:h,index:g,thumbnailIndex:c,variant:e.variant};I={type:"video-ingress",index:g,thumbnailIndex:c,variant:e.variant};f.useTabbedImmersiveView(b)&&("chromeful-video"===h&&(W+=" videoBlockIngress  videoBlockDarkIngress",
e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(W+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(W+=" videoImageBlockGridView");f.createThumbnail(m,e.thumb,l,W);2===b.dp60VideoPosition&&L(l,b.dp60VideoPosition);if(f.useTabbedImmersiveView(b)){R(l.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL);var m=1<k.length?"multiple-videos":"one-video",u=1<k.length?k.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo;u&&l.find(".videoBlockIngress").append(l.find("#videoCount_template").clone().text(u).attr("id",
"videoCount")).addClass(m)}m=d.buildNexusMetric("ib.thumbnailImpression",c+1,e.mediaObjectId,e.groupType,G,q,O,S);d.emitNexusMetric(m);m=d.buildNexusMetric("ib.thumbnailRender",c+1,e.mediaObjectId,e.groupType,G,q,O,S);d.emitNexusMetric(m);ca||(ca=!0,d.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(b))return!1}),h(l,g,c,m),b.imageBlockRenderingStartTime&&d.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",
e.now()-b.imageBlockRenderingStartTime));return c}function L(c,g){if(0!==g)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var d=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=c.children(".thumbTypeimage"),d=c.children(".thumbType"+d);e&&d&&e[g-1]&&a(e[g-1]).before(d[0]);d=a(".unrolledScrollBox .list-unrolled");e=d.children(".unrolledImg.imgMedia");d=d.children(".unrolledImg.videoMedia");e&&d&&e[g-1]&&a(e[g-1]).before(d[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=
null,g=0;g<this.classList.length;g++)this.classList[g].includes("itemNo")&&(c=g);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else e=c.children(".imageThumbnail"),d=c.children(".videoBlockIngress"),e&&d&&e[g-1]&&a(e[g-1]).before(d[0])}function R(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var g=new Image;g.onload=function(b){a.attr("src",c)};g.src=c}}function Q(a){z&&z.pause();a.data=I;a.clickTimeStamp=a.$event.timeStamp;
var c="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";A.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=d.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,G,q,O,S);d.emitNexusMetric(a);d.postCountMetric(c)}function P(a){g=a.player;g.hide=function(){g.pause();e.$("#main-video-container").find(".vse-player-container").hide()};g.show=function(){e.$("#main-video-container").find(".vse-player-container").show();
g.play()};g.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function N(c,g,d,h,l,k){J(k);y=null!==k?a("#unrolledImgNo"+k.thumbnailIndex):h.find("#main-video-container");F=null!==k?"":y.parent().find("#video-canvas-caption");K=null!==k?a(".unrolledScrollBox"):a("#main-image-container");null===k&&f.isImageBlockGridViewDisplayEnabled()&&(y.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));G=t.location.href;c=x.getCurrentItem().color;!0===l?q=b.mediaAsin:
(q=b.colorToAsin[c]&&b.colorToAsin[c].asin,q=f.isDefined(q)?q:b.mediaAsin);b.useChromelessVideoPlayer||y.addClass("chromeful-container");null!==k?w(k,"unrolled-video-add"):w(x.getCurrentItem(),"");f.useTabbedImmersiveView(b)&&e.declarative("videoIngressClick",["click"],Q);c=x.getCurrentItem().color;l=f.getVideoHash(c,0,b);-1!==l&&b.tabletWeb&&(l=f.getNilgiriServiceAjaxRequest(b,c,l),m.get(e,"#main-video-container",l,function(){e.$("#main-video-container").find(".vse-player-container").hide()},function(){e.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}
var B,b,x,A,l,y,F,K,T,z,v,I,M,g,q,G,O,S,V,Y,ga,ca=!1,ha=!1,W="videoThumbnail";return function(c,g,h,m){B=this;b=c;x=g;A=m;v=b.airyConfig;O=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(V="tablet",S="applicationType.ImageBlock.vse_ib_tablet_web"):e.capabilities.tablet?(V="tablet",e.capabilities.isAmazonApp&&(S="applicationType.ImageBlock.vse_ib_tablet_app")):(V="desktop",S="desktop_web.ImageBlock.vse_ib_iv");
B.render=function(c,g,d,e,f,h){var q=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){l=a("ul.regularAltImageViewLayout");M=D(g,c,h);q=[];g=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var m=0;m<g.length;m++){var k=g[m].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",p=Number(g[m].classList[2].slice(10)),G=a(".thumbItemUnrolled").index(g[m]);
q.push({color:c,thumbnailIndex:G,type:k,varient:"MAIN",index:p})}for(m=0;m<q.length;m++)N(c,d,e,f,h,q[m])}else l=e,M=D(g,c,h),N(c,d,e,f,h,null);return M};f.isImageBlockGridViewHoverDelayEnabled()?B.update=function(a){var c=a.data;"ingress"===c.type||"swatchHover"===a.type||f.lazyLoadingRequired(c,x,b)||(x.setToPreviousItem(),"mouseenter"===a.type?(ga&&clearTimeout(ga),ga=setTimeout(function(){x.setToCurrentItem(c);J(null)},f.getHoveringDelayTimer())):"mouseleave"===a.type?ga&&clearTimeout(ga):"click"===
a.type&&(x.setToCurrentItem(c),J(null)));if("swatchHover"===a.type)"ingress"===c.type||f.lazyLoadingRequired(c,x,b)||J(null),c.color===x.getCurrentItem().color?w(x.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,x,b)&&!f.lazyLoadOnHoverEnabled(b)&&w(x.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var g=f.getVideoHash(c.color,c.index,b);"mouseenter"===a.type?(d.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+M),"chromeless-video"===
c.type&&(g=d.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,g.mediaObjectId,g.groupType,G,q,O,S),d.emitNexusMetric(g)),Y&&clearTimeout(Y),Y=setTimeout(function(){w(c,"");!b.usePeekHover&&e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(a.$declarativeParent,l)},f.getHoveringDelayTimer())):"mouseleave"===a.type?Y&&clearTimeout(Y):"click"===a.type&&(w(c,""),e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(a.$declarativeParent,
l),g=d.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,g.mediaObjectId,g.groupType,G,q,O,S),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==V)&&d.emitNexusMetric(g),f.useTabbedImmersiveView(b)&&(d.emitNexusMetric(g),d.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+M),I.action="videoIngressClick",I.clickTimeStamp=a.$event.timeStamp,I.$event=a.$event,I.$currentTarget=a.$currentTarget,A.dispatch("videoIngressClick",I),d.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp))))}}:B.update=function(a){var c=a.data;"ingress"===c.type||f.lazyLoadingRequired(c,x,b)||J(null);if("swatchHover"===a.type)c.color===x.getCurrentItem().color?w(x.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,x,b)&&!f.lazyLoadOnHoverEnabled(b)&&w(x.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var g=f.getVideoHash(c.color,c.index,b);if("mouseenter"===a.type&&(d.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+
M),"chromeless-video"===c.type)){var h=d.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,g.mediaObjectId,g.groupType,G,q,O,S);d.emitNexusMetric(h)}w(c,"");b.usePeekHover&&"click"!==a.type||!e.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(a.$declarativeParent,l),"click"===a.type&&(g=d.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,g.mediaObjectId,g.groupType,G,q,O,S),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==V)&&d.emitNexusMetric(g),
f.useTabbedImmersiveView(b)&&(d.emitNexusMetric(g),d.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+M),I.action="videoIngressClick",I.clickTimeStamp=a.$event.timeStamp,I.$event=a.$event,I.$currentTarget=a.$currentTarget,A.dispatch("videoIngressClick",I),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(b.isDPXFeatureEnabled)e.on("triggerVideoAjax",p);e.on("vsePlayer-imageblock_tablet",P)}});"use strict";r.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,a,c,f,k,d,m,h){function p(a){return a.hiRes||a.large||a.main[a.main.length-1]}function n(){u.find("#ivTitle").click(function(){aa.hide()})}function J(){U=Pa?{type:"360-spin"}:Z.getCurrentItem()}function H(){var a=u.find("#ivStage"),b=aa.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-h.getDimension(c,"padding-top")-h.getDimension(c,
"padding-bottom");u.css("height",b);var c=u.find("#ivTitle").outerHeight(!0),g=u.find("#ivVariationSelection").outerHeight(!0),d=u.find("#ivMediaSelection").outerHeight(!0),e=u.find("#ivThumbs"),f=h.getDimension(e,"margin-top")+h.getDimension(e,"margin-bottom");e.css("height",b-c-g-d-f);u.find("#ivLargeImage").css("height",b);a.css("width",u.width()-h.getDimension(u,"padding-left")-h.getDimension(u,"padding-right")-u.find("#ivThumbColumn").width()-h.getDimension(a,"margin-left")-h.getDimension(a,
"margin-right"))}function E(){u.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").show(),"chromeful-video"===U.type&&u.find("#ivVideo_"+U.index).click()):"images"===b?(u.find("#ivVideoList").hide(),u.find("#ivThumbs").show(),u.find(".ivThumbVideo").hide(),"chromeful-video"===U.type&&(0===ea&&0===ba?u.find("#iv360").click():0===ea?u.find("#ivHeroImage_0").click():u.find("#ivImage_0").click())):"videos"===
b&&(u.find("#ivVideoList").show(),u.find("#ivThumbs").hide(),"chromeful-video"!==U.type?u.find("#ivVideoList_0").click():u.find("#ivVideoList_"+U.index).click())})}function w(){var a=u.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var d=g.width(),e=g.height();0<g.length&&(g[0].naturalWidth&&(d=g[0].naturalWidth),g[0].naturalHeight&&(e=g[0].naturalHeight));a.css("cursor","auto");var d=0===d?1:d,e=0===e?1:e,f=Math.min(b/d,c/e),h=e*f,q=
d*f;1>f?(Qa?a.css("cursor","url('"+C.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;d=Math.min(q,d);e=Math.min(h-20,e);g.css({"margin-top":(c-e)/2,"margin-left":(b-d)/2,height:e,width:d});a.css("visibility","visible");Aa=!1}function D(a){var b=u.find("#ivLargeImage");b.css("visibility","hidden");b.empty();h.animateStageIn(b);b.append(a);w()}function L(){fa&&fa.pause();u.find("#ivLarge360").css("display","none");
u.find("#ivLargeVideo").css("display","none");u.find("#ivLargeImage").css("display","none");x()}function R(b){L();u.find("#ivLargeImage").css("display","block");var g;"hero-image"===b?c.isDefined(ka)&&(g=p(ka[U.index])):c.isDefined(ma)&&(g=p(ma[U.index]));if(c.isDefined(g)){u.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),e=u.find("#ivLargeImage");h.animateStageOut(e,function(){d.load(function(){D(d)});if(d[0].complete)D(d);else{e.empty();var b=(e.height()-
104)/2,c=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",C.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(e)}})}}function Q(){var a=parseInt(U.index,10)+1;a>=ja.length||u.find("#ivVideo_"+a).click()}function P(){var a;c.isDefined(ja)&&(a=ja[U.index]);if(c.isDefined(a)){L();var b=u.find("#ivLargeVideo").css("display","block");fa?(fa.isDetached()&&fa.attach(b[0]),c.loadMediaIntoAiry(fa,a,wa,C.tabletWeb),fa.show()):(fa=c.createAiryInstanceForChromeful(b,a,wa,"ImmersiveView"),
wa.enableContinuousPlay&&fa.bind("ended",Q));fa.play({isAsync:!0})}}function N(){J();var a;a="hero-image"===U.type?u.find("#ivHeroImage_"+U.index):"image"===U.type?u.find("#ivImage_"+U.index):"chromeful-video"===U.type||"chromeless-video"===U.type?u.find("#ivVideo_"+U.index):"360-spin"===U.type?u.find("#iv360"):c.isDefined(ka)?u.find("#ivHeroImage_"+U.index):u.find("#ivImage_"+U.index);c.isjQueryObjDefined(a)||(a=u.find("#ivImage_0"));B(a)}function B(a){u.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")?(U.type="chromeful-video",U.index=a.attr("id").split("_")[1],P()):a.hasClass("ivHeroImage")?(U.type="hero-image",U.index=a.attr("id").split("_")[1],R(U.type)):a.hasClass("iv360Image")?(U.type="360-spin",U.index=0,b()):(U.type="image",U.index=a.attr("id").split("_")[1],R(U.type))}function b(){L();u.find("#ivLarge360").css("display","block");K();var a=u.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});h.animateStageIn(a)},
200);l();k.postCountMetric("dppc_click360");ta=Date.now()}function x(){0<ta&&(A("dppc_duration360",Date.now()-ta),ta=0)}function A(a,b){t.ue&&t.ue.count(a,b)}function l(){if(0<qa){var a=u.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function y(b,c){if(qa<b.length){var g=a("\x3cimg /\x3e").css({display:"block",width:6*oa+"px",height:sa+"px"});g.hide();c.append(g);g.get(0).onload=function(){c.closest(document.documentElement).length&&(qa++,1===qa&&(l(),0<ta&&A("dppc_loadTime360",
Date.now()-ta)),0<Ga&&A("dppc_perSpriteloadTime360",Date.now()-Ga),u.find("#iv360Spinner").hide(),g.show(),xa=5*X.imageLocations[Math.floor(ya/X.imageLocations[0].length)][ya%X.imageLocations[0].length],y(b,c))};g.attr("src",b[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function F(a){if(c.isDefined(X.spriteWidthSizes)&&0<X.spriteWidthSizes.length){var b=X.spriteWidthSizes,g=b.length,d=b[0],e=b[g-1];if(a<=d)return d;if(a>e)return e;for(d=0;d<g;d++)if(a>b[d]&&a<=b[d+1])return b[d+
1]}else return a}function K(){var b=u.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",C.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",
transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ha=!0,T())}function T(){if(c.isDefined(X.spriteURLs)&&c.isDefined(u)&&Ha&&!Ia){var b=u.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(X.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",X.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(C.staticStrings.dragToSpin).appendTo(d);
d.appendTo(b);var d=X.imageWidth,e=X.imageHeight,f=b.parent().width(),h=b.parent().height(),m=0,l=0;d/e>f/h?(ua=F(f),va=Math.round(e/d*ua),oa=Math.ceil(f),sa=Math.ceil(va/ua*f),l=(h-sa)/2):(va=F(h),ua=Math.round(d/e*va),sa=Math.ceil(h),oa=Math.ceil(ua/va*h),m=(f-oa)/2);b.css({"margin-left":m,"margin-top":l,width:oa+"px",height:sa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*oa+"px");y(X.spriteURLs,u.find("#image-360-sprites"),0);d=u.find("#ivLarge360");
d.bind("mousedown",M);d.bind("touchstart",z);d.bind("touchmove",v);d.bind("touchend",I);a(document).bind("mousemove",g);a(document).bind("mouseup",q);c.isDefined(C.staticImages.grab)&&b.css("cursor","url('"+C.staticImages.grab+"'), auto");Ia=!0}}function z(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function v(a){Ba&&(G(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function I(a){Ba&&(Ba=!1)}function M(a){Ca=!0;Ka=a.originalEvent.clientX;c.isDefined(C.staticImages.grabbing)&&
(a=u.find("#ivLarge360"),a.css("cursor","url('"+C.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+C.staticImages.grabbing+"'), auto"));return!1}function g(a){Ca&&(G(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function q(a){Ca&&(Ca=!1,c.isDefined(C.staticImages.grab)&&(a=u.find("#ivLarge360"),a.css("cursor","url('"+C.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function G(a){for(a=xa-=a/oa*180;0>a;)a+=
360;for(;360<a;)a-=360;xa=a;var b;a=360;for(var g=0;g<qa;g++)for(var d=0;d<X.imageLocations[g].length;d++){var e=Math.abs(xa-5*X.imageLocations[g][d]);e<a&&(a=e,b=g*X.imageLocations[0].length+d)}b!==ya&&(a=Math.floor(b/X.imageLocations[0].length),a!==Math.floor(ya/X.imageLocations[0].length)&&(c.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),g=u.find("#image-360-sprites").children(),La.drawImage(g[a],0,0)),a=u.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));ya=b;a=b%X.imageLocations[0].length*-1*oa;b=-1*Math.floor(b/X.imageLocations[0].length)*sa;g=u.find("#ivLarge360").children("#image-360-sprites");g.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");g.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function O(){u.delegate(".ivThumb","click",function(){var b=a(this);B(b)});u.delegate(".ivThumbVideoListOuter","click",function(){u.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");
U.type="chromeful-video";U.index=b.attr("id").split("_")[1];P()})}function S(){fa&&!fa.isDetached()&&(wa.volume=fa.getVolume(),fa.detach(),!document.all||t.atob||document.addEventListener||(fa=null));u.find("#ivLargeImage").empty();x()}function V(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function Y(b){var c=ra.left-(b.pageX-Da[0])*Ea;e.capabilities.rtl&&(c=ra.left-(a(t).width()-b.pageX-Da[0])*Ea);b=ra.top-(b.pageY-Da[1])*Ea;c=V(c,Fa.left);b=V(b,Fa.top);u.find(".fullscreen").css({left:c,top:b})}
function ga(){u.delegate("#ivLargeImage","click",function(a){if(Aa)w();else if(za){u.find(".fullscreen").removeAttr("style");if(za){var b=u.find("#ivLargeImage"),c=b.find(".fullscreen");Qa?b.css("cursor","url('"+C.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Aa=!0;var g=u.find("#ivLargeImage");Fa.left=g.width()-c.width();Fa.top=g.height()-c.height();var g=b.height()/2,d=b.width()/2;Da=[b.offset().left+d,b.offset().top+
g];ra.top=g-c.height()/2;ra.left=d-c.width()/2;c.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(c.height()/b.height(),c.width()/b.width())}Y(a)}});u.delegate("#ivLargeImage","mousemove",function(a){Aa&&Y(a)})}function ca(b){if(c.isImmersiveViewEnabled(C,Z.getCurrentItem().color))if(Ma){var g=b.$event.originalEvent;g.acknowledge&&g.acknowledge(b.$currentTarget[0]);Pa=c.isDefined(b)&&"button-360-click"===b.action;d.isEnabled&&m.logImmersiveViewRequestServed(d);k.postCountMetric("dppc_immersiveViewOpened");
if(c.isDefined(aa))aa.show();else{b=a("#auiImmersiveViewDiv");var g=a(t).height()-150,f=a(t).width()-75;aa=Ma.create(b,{name:"immersiveView",activate:"onclick",width:f,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(Na){u=a("#ivMain");b=Z.getCurrentItem().color;ma=C.colorImages[b];ka=C.heroImage[b];ja=C.useChildVideos?C.colorToVideo[b]:C.videos;Oa=W()&&C.spin360ColorEnabled[b];X=W()?C.spin360ColorData[b]:ia;J();na=ba=pa=ea=0;c.isDefined(ka)&&(ba=ka.length);c.isDefined(ma)&&(ea=
ma.length);c.isDefined(ja)&&(pa=ja.length);Oa&&(na=1);h.populateTitle(u.find("#ivTitle"),45,C);h.populateVariationSelection(u.find("#ivVariationSelection"));b=u.find("#ivMediaSelect");0===ea+na||0===pa?(b.parent().hide(),u.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(C.staticStrings.allMedia+" ("+(ba+ea+na+pa)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(C.staticStrings.images+" ("+(ba+ea+na)+")").appendTo(b),
a("\x3coption/\x3e").attr("value","videos").text(C.staticStrings.videos+" ("+pa+")").appendTo(b),b.parent().show(),b.val("all"));b=u.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();for(var g=ba+ea+pa+na,q=f=0;f<g;)for(var l=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),p=0;3>p&&f<g;p++,f++,q++)if(q<ba){var G=ka[f].thumb,n=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(l);n.find(".ivThumbImage").css("background",
'url("'+h.getResizedThumbnailURL(G)+'") center no-repeat')}else if(q>=ba&&q<ea+ba)G=ma[f-ba].thumb,n=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-ba)).appendTo(l),n.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(G)+'") center no-repeat');else if(q>=ba+ea&&q<ea+ba+na)n=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(l),n.find(".ivThumbImage").css("background",'url("'+
(c.isDefined(C.staticImages.icon360)?h.getResizedThumbnailURL(C.staticImages.icon360,!0):"")+'") center no-repeat');else if(G=ja[f-ea-ba-na],n=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-ea-ba-na)).appendTo(l),n.find(".ivThumbImage").css("background",'url("'+G.thumbUrl+'") center no-repeat'),c.isDefined(G)){var O={position:"triggerTop"},B=u.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
B.find(".ivVideoPopoverTitle").text(G.title);B.find(".ivVideoPopoverDuration").text(G.durationTimestamp);O.inlineContent=B[0];e.declarative.create(n,"a-tooltip",O)}b=u.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();g=b.find(".placeholder");for(f=0;f<pa;f++)q=ja[f],l=g.clone().removeClass("placeholder").appendTo(b),l.attr("id","ivVideoList_"+f),l.find(".ivThumbImage").css("background",'url("'+q.thumbUrl+'") center no-repeat'),l.find(".ivThumbTitle").text(q.title),
l.find(".ivThumbDuration").text(q.durationTimestamp);u.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=C.airyConfig;Na=!1;Ra()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}function ha(a){var b=C.colorToAsin[a],g={},d=500;if(b&&b.asin){g.params={asin:b.asin};var e="360"+b.asin,h=Date.now();g.success=function(b){A("dppc_asyncRequestTime360",
Date.now()-h);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(e,"success"),C.spin360ColorData[a]=b.spin360.spin360Model,a===Z.getCurrentItem().color&&(X=C.spin360ColorData[a],T())):g.error()};g.error=function(){k.postCountMetric("dppc_asyncFailed360");A("dppc_asyncRequestTime360",Date.now()-h);d*=2;16E3>=d?setTimeout(function(){h=Date.now();f.load("/gp/product/features/apparel-main-image/360.html",g)},d):c.ajaxState(e,"fail")};c.ajaxState(e)&&"fail"!==c.ajaxState(e)||(f.load("/gp/product/features/apparel-main-image/360.html",
g),c.ajaxState(e,"sent"))}}function W(){return c.isDefined(C.spin360ConfigEnabled)&&C.spin360ConfigEnabled}var da,C,Z,la,aa,u,ka,ma,ja,ba,ea,pa,na,U,fa,wa,X,Oa,oa,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;r.when("a-modal").execute(function(a){Ma=a});var Ra=e.once(function(){E();O();ga();e.on("a:popover:afterUpdatePosition:immersiveView",H);e.on("a:popover:afterShow:immersiveView",N);
e.on("a:popover:afterHide:immersiveView",S);n()});return function(b,g,f,q){da=this;C=b;Z=g;d.refToModel=Z;la=q;W()&&(C.spin360ColorData[C.landingAsinColor]=C.spin360ColorData[C.defaultColor],C.spin360ColorEnabled[C.landingAsinColor]=C.spin360ColorEnabled[C.defaultColor]);c.isDefined(C.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",h.addStyleCodeToURL(C.staticImages.icon360,"_FMpng_RI_"));da.render=function(a,b,g,d,f,h){Na=!0;W()&&C.spin360ColorEnabled[a]&&
!c.isDefined(C.spin360ColorData[a])&&(C.spin360ColorData[a]={},ha(a));c.isImmersiveViewEnabled(C,Z.getCurrentItem().color)&&W()&&C.spin360ColorEnabled[a]&&(b===C.maxAlts&&(a=d.find(".item.imageThumbnail"),g=d.find(".item.videoThumbnail"),c.isDefined(g)&&1<g.length?g.last().remove():a.last().remove(),b--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),d.append(a),b++,k.postCountMetric("dppc_display360"));
return b};da.update=function(a){};c.isImmersiveViewEnabled(C,Z.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");la.register("imageClick",ca);la.register("button360Click",ca)}});"use strict";r.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,a,c,f,k,d,m){function h(){var c=E.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),b=c.find(".a-popover-inner"),
c=c.height()-m.getDimension(b,"padding-top")-m.getDimension(b,"padding-bottom");a("#iv-tab-view-container").css("height",c);L=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<L?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),b=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=b):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);
e.trigger("dp:image-block:immersive-view:resize")}function p(){e.trigger("dp:image-block:immersive-view:reset")}function n(h){if(c.isImmersiveViewEnabled(H,E.getCurrentItem().color))if(Q){var b=h.$event.originalEvent;b.acknowledge&&b.acknowledge(h.$currentTarget[0]);k.isEnabled&&d.logImmersiveViewRequestServed(k);f.postCountMetric("dppc_immersiveViewOpened");c.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIngressClick"===h.action?(R=h.clickTimeStamp,a("#ivVideosTabHeading").click()):
"showroomIngressClick"===h.action?(R=h.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());b=E.getImmersiveViewModalInstance();if(c.isDefined(b))b.show();else{h=a("#auiImmersiveViewDiv");var b=Math.min(Math.max(a(t).height()-150,540),1080),m=Math.min(Math.max(a(t).width()-75,990),1980),b=Q.create(h,{name:"immersiveView",activate:"onclick",width:m,height:b,popoverLabel:"ImmersiveView",hideHeader:!0});E.setImmersiveViewModalInstance(b);h.click()}D&&(D=!1,P(),e.trigger("dp:image-block:immersive-view:init"))}else t.performance&&
performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else f.postCountMetric("immersiveViewNotExistsClickCount")}var J,H,E,w,D=!0,L=0,R,Q;r.when("a-modal").execute(function(a){Q=a});var P=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",h);e.on("a:popover:afterShow:immersiveView",h);e.on("a:popover:afterHide:immersiveView",p)}),N=e.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",
function(b){var d=c.filter(".iv-active");d.attr("id")!==a(this).attr("id")&&e.trigger("dp:ivTabs:"+d.find("a").attr("data-iv-tab-view")+":deselect",b);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();d=a(this).find("a").attr("data-iv-tab-view");a("#"+d).show();"ivVideosTab"===d&&(b.clickTimeStamp=R||b.timeStamp);e.trigger("dp:ivTabs:"+d+":select",b);f.postCountMetric("dppc_"+d);return!1})});return function(a,b,d,e){J=this;H=a;E=b;k.refToModel=
E;w=e;J.render=function(a,b,c,d,e,h){f.postCountMetric("dpcc_altThumbs_"+b);D=!0};J.update=function(a){};J.getTitle=function(){};J.getVariationSelectionInfo=function(){};N();c.isImmersiveViewEnabled(H,E.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");w.register("imageClick",n);w.register("button360Click",n);c.useTabbedImmersiveView(H)&&(w.register("videoIngressClick",n),w.register("showroomIngressClick",n))}});"use strict";r.when("A").register("ImageBlockLoader",function(e){return{load:function(a,
c){c=c||{};c.timeout=c.timeout||4E3;e.ajax(a,c)}}});"use strict";r.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(e,a,c,f,k,d,m,h,p){function n(a){return null!==a&&"undefined"!==typeof a}function r(b){var c=0;a.each(b,function(a,b){var g=parseInt(b[1],10);g>c&&(c=g)});return c}function H(b){var c=0;a.each(b,function(a,b){var g=parseInt(b[0],10);g>c&&(c=g)});return c}
function E(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=r(a);0<a&&(b=Math.min(b,a));return b}function w(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=H(a);0<a&&(b=Math.min(b,a));return b}function D(b){var c;a.each(b,function(a,b){n(c)||(c=b[1]/b[0])});return c||1}function L(b,d,e,h,m,l,k,p,n,x,B,N,A,w){var v=a.extend({},e.foresterMetadataParams);null!==h&&(v.method+="."+h);var H=[];d.disabledViewIds&&(H=d.disabledViewIds);var u="black";"unrolled-video-add"===w&&(u="transparent");
return c.embed({parentElement:b[0],streamingUrls:d.url,contentId:d.mediaObjectId,contentMinAge:Number(d.minimumAge||"")||0,contentTitle:d.title,swfUrl:e.swfUrl,foresterMetadataParams:v,backgroundColor:u,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:d.slateUrl,postMediaSlate:d.slateUrl},videoAds:e.videoAds,bindings:{play:function(){if("ImmersiveView"===h)y||(y=!0,f.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(F||(F=!0,f.postCountMetric("dppc_chromefulVideoPlayedPV")),!x){var a=
f.buildNexusMetric("ib.thumbnailClick",n,d.mediaObjectId,d.groupType,B,N,A);f.emitNexusMetric(a)}}},cuePoints:[{values:d.durationSeconds-1,type:"position",callback:function(a,b,c){m&&(R(0,l,p),Q(k))}}],disabledViewIds:H})}function R(a,b,c){b.fadeTo(500,0,function(){P(a,c);b.fadeTo(500,1)})}function Q(a){a&&a.toggle()}function P(b,c){var d=c.find("img");n(d[b])&&a(d[b]).click()}function N(a,b){z[a]=b?b:z[a];return z[a]}function B(b,c,d){d=d||T;d=d.colorImages;if(1>d.length||!n(d[b])||!n(c))return-1;
var e=-1;a.each(d[b],function(a,b){b.variant===c&&(e=a)});return e}function b(b,c,d){d=d||T;d=d.colorImages;return!(n(d)&&n(d[b])&&n(d[b][c])&&n(d[b][c].main))||1>a.map(d[b][c].main,function(a,b){return b}).length?-1:d[b][c]}function x(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function A(b,c){var d;if(d=b.useIV)d=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;m.isEnabled&&(m.IVApplicaple=d,h.logImmersiveViewApplicability(a,
m));return d}function l(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var y,F,K,T=a.extend(!0,{},k,d),z={},v=0,I=0,M=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?
"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:D,getMaxHeightOfMainImage:w,getMaxWidthOfMainImage:E,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=w(a,b,c);b=E(a,b,c);a=D(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(n(d)){a=d.offsetWidth/b;a=Math.min(a,c);var e;b=T.mainImageHeightPartitions;c=T.mainImageMaxSizes;if(n(c)&&
n(b)){for(var f=0,h=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)h>b[d]&&(f=d+1);c.length>=f&&(e=c[f])}n(e)&&(a=Math.min(e[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||T;var d="";a.each(c.visualDimensions,function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,d){var f=c.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;f.find(".placeHolder").replaceWith(h);
(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&f.addClass("heroImageThumbnail");n(d)&&f.addClass(d);l()&&f&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(d,h));e.declarative.create(f,"thumb-action",a);f.attr&&(f.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):
(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-hover")),f.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(f)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,e,f,h,m){L(a,b,c,d,e,f,h,m,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:L,
loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(K={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(K)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,
mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:R,toggleVideoCaption:Q,selectThumbnail:P,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),
b.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:N,getIndexForVariant:B,getImageHash:b,lazyLoadingRequired:function(a,c,d){c=Math.max(B(a.color,
c.getCurrentItem().variant,d),0);c=-1!==b(a.color,c,d);a=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a=!a||"success"!==N(a);return!d.lazyLoadExperienceDisabled&&!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:x,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();x(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:
0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!n(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return n(a)&&n(a[b])&&n(a[b].url)?a[b]:-1},isImmersiveViewEnabled:A,playVideoInImmersiveView:function(a,b){return A(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(K)?K.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,
clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return p.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:l,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return v},
updateThumbnailHoverDelay:function(a){if(n(a)){v=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=I;a=a.closest("ul").attr("class");a===ia?c=!1:(a=M.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(v=100);I=b}}}}});"use strict";r.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(e,a,c,f){function k(d,e,b,h){if(!c.isjQueryObjDefined(d.find(".a-button-selected"))){var k=
D.getCurrentItem();if(!h||"chromeless-video"!==k.type||!w.autoplayVideo){h=0;if("hero-image"===k.type){h=m(k.color,k.variant);if(-1===h)return;h=-1!==h?h:0}var l=e+h;l>=b&&(h=0,l=e);e=f.getHeroImageHash(w,k.color,h);-1!==e&&(L.dispatch("updateModel",{data:{index:h,thumbnailIndex:l,variant:e.variant,type:"hero-image"}}),e=d.find(".item").get(l),c.selectGivenThumbnail(a(e),d))}}}function d(d,e,b){if("hero-video"===D.getCurrentItem().type)return d;e=w.heroImage&&w.heroImage[e];var f=d;c.isDefined(e)&&
(a.each(e,function(a,b){d<w.maxAlts&&(c.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:b.variant},b.thumb,R,"imageThumbnail"),d++)}),k(R,f,d,b));return d}function m(d,e){var b=w.heroImage;if(1>b.length||!c.isDefined(b[d])||!c.isDefined(e))return-1;var f=-1;a.each(b[d],function(a,b){b.variant===e&&(f=a)});return f}function h(){if(Q.length&&w.repositionHeroImage){var a=f.getHeroDimParams(w,D.getCurrentItem()),d;c.isDefined(a)&&(d=c.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",Q.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function p(a,d,b,e){if(Q.length&&a&&d){if("function"===typeof b||e){var h=new Image;h.onload=e?function(){Q.css("background-image",'url("'+a+'")')}:b;h.src=a}b=d[1];var h=d[0],m;e||Q.css({"background-image":'url("'+a+'")'});w.repositionHeroImage&&(d=f.getHeroDimParams(w,D.getCurrentItem(),d),c.isDefined(d)&&(b=d.width,h=d.height,
m=c.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));Q.css({"background-position":m,"background-size":b+"px "+h+"px ","max-width":b+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function n(c,d,b,e){c=f.getHeroImageHash(w,c,d);if(-1===c)return-1;d=a.map(c.main,function(a,b){return b})[0];p(d,c.main[d],b,e)}function r(a,c,b){if("hero-image"!==a.type)return-1;var d=m(a.color,D.getCurrentItem().variant),d=-1!==d?d:0;if(-1===f.getHeroImageHash(w,a.color,d))return-1;var e=
D.getCurrentItem();a.thumbnailIndex=e.thumbnailIndex;a.type=e.type;a.variant=e.variant;a.index=d;H(a,c,b)}function H(a,c,b){var d=f.getHeroImageHash(w,a.color,a.index),h;h=a&&P&&e.equals(a,P)?!0:!1;P||(P=a);if(!h&&a||c)n(a.color,a.index,c,b),P=a;Q.removeClass("hide-background");e.trigger("dp:image-block:update",d)}var t,w,D,L,R,Q,P={};return function(e,f,b,m){t=this;w=e;D=f;L=m;w.heroImage[w.landingAsinColor]=w.heroImage[w.defaultColor];t.render=function(b,c,e,f,h,m,k){R=f;Q=a("#heroImage");b=d(c,
b,m);r(D.getCurrentItem(),k,m);return b};t.update=function(a){var b=a.data;"ingress"!==b.type&&Q.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=D.getCurrentItem().type,-1!==r(b)&&(a.captured=!0)):"hero-image"===b.type&&(H(b),"click"!==a.type&&w.usePeekHover||c.selectGivenThumbnail(a.$declarativeParent,R))};L.register("resize",h)}});"use strict";r.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(e,a,c){var f,k,d,m;return function(a,p,n,
r){f=this;k=a;d=r;f.render=function(a,d,h,p,n,r,t){m=p;f=this;h=k.maxAlts;p=d;n=k.colorImages[a]?k.colorImages[a].length:0;n+=c.getVideosCount(a,k);a=k.heroImage[a];r=0;a&&(r=a.length);a=n+r;a>h&&(h=a-h,a=m.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),h+="+",p={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(h),e.declarative.create(a,"thumb-action",p),m.append(a),p=d++);return p};f.update=function(a){"ingress"===
a.data.type&&"click"===a.type&&d.dispatch("imageClick",a)}}});"use strict";r.when("imageBlockUtils").register("ImageBlockState",function(e){return function(a,c,f){this.getImageHash=function(c){var d=f.getCurrentItem();c=e.getIndexForVariant(d.color,c||"MAIN",a);return e.getImageHash(d.color,c,a)};this.onImageUpdateForTwister=function(a){c.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof a&&a()})}}});"use strict";r.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",
function(e,a){function c(a,c){var e;if(c.repositionHeroImage){e=a[1];var f=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))e*=.7,f*=.7;else{var k=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);e*=.7+.3*k;f*=.7+.3*k}e=[e,f]}return e}function f(c,e,f){var k;if(f.repositionHeroImage){var n=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;f=f.heroFocalPoint;
if(a.isDefined(f)){k=Math.max((n-Math.min(1500,c))/2,0);var r=Math.max((n-c)/2,0);k-=r;n=Math.max(Math.min(n,1500),1024);k=k+(n-420-23)/2-c/e[1]*f}}return k}function k(c,f,h){c=c.heroImage;return!(a.isDefined(c)&&a.isDefined(c[f])&&a.isDefined(c[f][h])&&a.isDefined(c[f][h].main))||1>e.map(c[f][h].main,function(a,c){return c}).length?-1:c[f][h]}return{getHeroImageHash:k,getHeroDimParams:function(d,m,h){if(d.repositionHeroImage){if(!a.isDefined(h)){h=k(d,m.color,m.index);if(-1===h)return;m=e.map(h.main,
function(a,c){return c})[0];h=h.main[m]}m=c(h,d);d=f(m[0],h,d);return{height:m[1],width:m[0],xPos:d,yPos:75}}}}});"use strict";r.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(e){function a(){this.render=function(){};this.update=function(){}}return function(c,f,k,d){var m=!1,h=new a;r.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ia&&(m=!0,h=new a(c,f,k,d))});c&&!0===c.showroomEnabled&&!1===m&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");
return h}});"use strict";r.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,a,c){function f(a,f){var h=e.copy(a);if(c.isDefined(a)&&a.length>f){try{for(var k=-1,n=0;n<a.length;n++){var r=a.charAt(n);if(" "===r||"."===r||"?"===r||";"===r||","===r||":"===r)k=n;if(n===f-4){h=a.substring(0,-1===k?n:k);break}}}catch(t){h=a.substring(0,f-3)}h+="..."}return h}function k(a,c){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+c+a.substring(e):a.substring(0,
e)+"."+c+a.substring(e)}return{getDimension:function(a,c){var e=parseInt(a.css(c),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(c){a("#"+c).hide()},unhideTabHeading:function(c){a("#"+c).show()},addStyleCodeToURL:k,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var e="_AA50_";c&&(e+="FMpng_RI_");return k(a,e)},populateVariationSelection:function(d){if(c.isDefined(t.DetailPage)&&c.isDefined(t.DetailPage.StateController)){d.empty();
var e=t.DetailPage.StateController.getState(),f=e.variation_label_order,k;for(k in f)if(f.hasOwnProperty(k)){var n=f[k],r=e.selected_variations[n],n=e.variation_display_labels[n];r&&a("\x3cdiv/\x3e").addClass("ivVariations").text(n+":"+r).appendTo(d)}}},populateTitle:function(a,c,e){a.html(e.title);a.attr("title",a.text());a.html(f(e.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,e,f){t.ueLogError&&
t.ueLogError(f,{logLevel:a,attribution:c,message:e})}}});"use strict";r.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(e,a,c,f,k){function d(){k.populateTitle(b.find("#ivTitle"),160,N)}function m(){var a=B.getCurrentItem().color;A=N.colorImages[a];x=N.heroImage[a];l=y=0;c.isDefined(x)&&(l=x.length);c.isDefined(A)&&(y=A.length)}function h(a){return a.hiRes||a.large||a.main[a.main.length-1]}function p(){var a=b.find("#ivStage").find("#ivLargeImage"),
c=a.width(),d=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var f=e.width(),g=e.height();0<e.length&&(e[0].naturalWidth&&(f=e[0].naturalWidth),e[0].naturalHeight&&(g=e[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,g=0===g?1:g,h=Math.min(c/f,d/g),k=g*h,l=f*h;1>h?(K?a.css("cursor","url('"+N.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),v=!0):v=!1;f=Math.min(l,f);g=Math.min(k-20,g);e.css({"margin-top":(d-
g)/2,"margin-left":(c-f)/2,height:g,width:f});a.css("visibility","visible");z=!1}function n(a){var c=b.find("#ivLargeImage");c.css("visibility","hidden");c.empty();k.animateStageIn(c);c.append(a);p()}function r(d){b.find("#ivLargeImage").css("display","none");b.find("#ivLargeImage").css("display","block");var e;"hero-image"===d?c.isDefined(x)&&(e=h(x[F.index])):c.isDefined(A)&&(e=h(A[F.index]));if(c.isDefined(e)){b.find(".fullscreen").remove();var f=a("\x3cimg\x3e").attr("src",e).addClass("fullscreen"),
g=b.find("#ivLargeImage");k.animateStageOut(g,function(){f.load(function(){n(f)});if(f[0].complete)n(f);else{g.empty();var b=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",N.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(g)}})}}function t(a){b.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?F.type="hero-image":F.type="image";F.index=a.attr("id").split("_")[1];r(F.type);f.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(F.index,10)+1)+"_"+(l+y))}function E(){b.delegate(".ivThumb","click",function(){var b=a(this);t(b)})}function w(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function D(a){var c=M.top-(a.pageY-q[1])*g;a=w(M.left-(a.pageX-q[0])*g,I.left);c=w(c,I.top);b.find(".fullscreen").css({left:a,top:c})}function L(){b.delegate("#ivLargeImage","click",function(a){if(z)p();else if(v){b.find(".fullscreen").removeAttr("style");if(v){var c=b.find("#ivLargeImage"),d=c.find(".fullscreen");K?c.css("cursor",
"url('"+N.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));z=!0;var e=b.find("#ivLargeImage");I.left=e.width()-d.width();I.top=e.height()-d.height();var e=c.height()/2,h=c.width()/2;q=[c.offset().left+h,c.offset().top+e];M.top=e-d.height()/2;M.left=h-d.width()/2;d.css({position:"relative",left:M.left,top:M.top});g=Math.max(d.height()/c.height(),d.width()/c.width())}D(a);f.postCountMetric("dpcc_iv_largeImageCLick")}});
b.delegate("#ivLargeImage","mousemove",function(a){z&&D(a)})}function R(){b.find("#ivLargeImage").empty()}function Q(e){if(T){b=a("#ivMain");m();F=B.getCurrentItem();d();k.populateVariationSelection(b.find("#ivVariationSelection"));e=b.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();for(var f=l+y,g=0,h=0;g<f;)for(var n=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),p=0;4>p&&g<f;p++,g++,h++)if(h<l){var q=x[g].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(n);r.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(q)+'") center no-repeat')}else h>=l&&h<y+l&&(q=A[g-l].thumb,r=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(g-l),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":g-l+1}).appendTo(n),r.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(q)+'") center no-repeat'));G();T=!1}else d();e=a("#ivImagesTab").height();b.css("height",e);f=b.find("#ivTitle").outerHeight(!0);g=b.find("#ivVariationSelection").outerHeight(!0);h=b.find("#ivThumbs");n=k.getDimension(h,"margin-top")+k.getDimension(h,"margin-bottom");h.css("height",e-f-g-n);b.find("#ivLargeImage").css("height",e);e=b.find("#ivStage");f=b[0]&&b[0].getBoundingClientRect&&
Math.floor(b[0].getBoundingClientRect().width)||b.width();e.css("width",f-k.getDimension(b,"padding-left")-k.getDimension(b,"padding-right")-b.find("#ivThumbColumn").width()-k.getDimension(e,"margin-left")-k.getDimension(e,"margin-right"));F=B.getCurrentItem();e="hero-image"===F.type?b.find("#ivHeroImage_"+F.index):"image"===F.type?b.find("#ivImage_"+F.index):c.isDefined(x)?b.find("#ivHeroImage_"+F.index):b.find("#ivImage_"+F.index);c.isjQueryObjDefined(e)||(e=b.find("#ivImage_0"));t(e)}var P,N,B,
b,x,A,l,y,F,K=navigator.userAgent.match(/msie|trident/i),T=!0,z=!1,v=!1,I={},M={},g,q,T=!0,G=e.once(function(){E();L();k.attachImmersiveViewResizeHandler(Q);k.attachTabDeselectHandler("ivImagesTab",R)});return function(b,c,d,e){P=this;N=b;B=c;P.render=function(b,c,d,e,f,g){T=!0;m();0===l+y?k.hideTabHeading("ivImagesTabHeading"):k.unhideTabHeading("ivImagesTabHeading");1===l+y?a("#ivThumbs").hide():a("#ivThumbs").show()};P.update=function(a){};k.attachTabSelectHandler("ivImagesTab",Q)}});"use strict";
r.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,a,c,f,k,d,m){function h(){l.delegate(".ivThumb","click",function(){var b=a(this);l.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(y.type="chromeful-video",y.index=b.attr("id").split("_")[1])})}function p(){if(V){var b=a("#ivVideosTab").height();l.css("height",b);var c=l.find(".vse-lb-container");
F=b-k.getDimension(c,"padding-top")-k.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(q){l.css({"max-width":Math.floor(1.77*F)});return}var b=l.find(".vse-player-container"),c=l.find(".vse-video-action-strip"),d=l.find(".vse-lb-video-metadata"),e=Math.floor(F-k.getDimension(d,"height")-k.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});
c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}G&&(b=l.find(".vse-vertical-scroll"),c=k.getDimension(b,"margin-top")+k.getDimension(b,"margin-bottom"),b.css("max-height",F-c))}function n(){r();K&&K.pause();O=!1;M=!0;I=null;S=!0;V=!1}function r(){O=!1;K&&K.pause()}function H(d){I=d.clickTimeStamp?d.clickTimeStamp:e.now();c.isDefined(A)&&(A.eventTimestamp=I);O=!0;g&&(m.get(e,"#ivVideoBlock",x,C,Z),l=a("#ivVideoBlock"),b.getCurrentItem(),y=b.getCurrentItem(),ha(),Q());p();g=!1;D()}function E(c){g&&
(l=a("#ivVideoBlock"),b.getCurrentItem(),y=b.getCurrentItem(),ha());O&&D();p()}function w(a){K=a.player;f.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-ca);B.imageBlockRenderingStartTime&&f.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-B.imageBlockRenderingStartTime);V&&(Q(),D())}function D(){if(K&&O&&(l.find(".vse-lb-container").animate({opacity:1},200),K.play(A),f.postCountMetric("dpcc_vse_videoBlock_video_played"),M)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),
a=(new Date).getTime()-a,f.postTimeMetric("dpcc_vse_vitff",a),M=!1)}}function L(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function R(a){T=a.popover.$popover;V=!0;Q()}function Q(){if(V&&S&&O&&K){T.addClass(e.$(T).find(".vse-lb-container").data("cssClass"));var a=A;Y&&(a=ga,Y=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});p();S=!1}}function P(a){document.getElementsByClassName("videoBlockIngress")[0].click();ga=a;Y=!0}var N,
B,b,x,A,l,y,F,K,T,z,v,I,M=!0,g=!0,q=!1,G=!1,O=!1,S=!0,V=!1,Y=!1,ga,ca=0,ha=e.once(function(){h();k.attachImmersiveViewResizeHandler(E);k.attachTabDeselectHandler("ivVideosTab",r);k.attachImmersiveViewResetHandler(n)}),W=function(d,e,g){a("#ivVideoBlockSpinner").addClass("aok-hidden");f.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);d=b.getCurrentItem().color;d=c.getVideoHash(d,0,B);K||(K=c.createAiryInstanceForChromeful(a("#ivVideoBlock"),d,B.airyConfig,"ImmersiveView"));q=!0;
a("#ivVideoBlock").css({"max-width":1.77*F,margin:"0 auto"});O&&q&&K.play({isAsync:!0})},da=function(b,c,d){g||m.get(b,"#ivVideoBlock",x,C,Z);a("#ivVideoBlockSpinner").addClass("aok-hidden")},C=function(a,b,c){G=!0;p()},Z=function(a,b,c){f.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,f,h,l){N=this;B=a;b=f;N.render=function(a,f,h,l,m,n){a=b.getCurrentItem().color;f=c.getVideoHash(a,0,B);!0===n?z=B.mediaAsin:(z=B.colorToAsin[a]&&
B.colorToAsin[a].asin,z=c.isDefined(z)?z:B.mediaAsin);v=null!==B.vseVideoDataSourceTreatment&&"T1"===B.vseVideoDataSourceTreatment?"ASIN":"physicalID";g=!0;-1===f?k.hideTabHeading("ivVideosTabHeading"):(k.unhideTabHeading("ivVideosTabHeading"),x={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:f.marketPlaceID,locale:f.languageCode,product:{contentID:z,contentIDType:"ASIN"},video:{contentID:f.mediaObjectId,contentIDType:v,videoURL:f.url,imageURL:f.slateUrl},requestId:B.dpRequestId,
metadata:{ProductTitle:B.title}},A={videoUrl:x.video.videoURL,contentId:x.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(I)?I:e.now(),imageUrl:x.video.imageURL,productAsin:x.product.contentID,index:0},c.isDefinedAndNotEmpty(K)&&(K.destroy(),K=null),ca=e.now(),d.get(e,"#ivVideoBlock",x,da,W))};N.update=function(a){};k.attachTabSelectHandler("ivVideosTab",H);e.on("vsePlayer-detailpage-imageblock",w);e.on("a:popover:afterShow:immersiveView",R);e.on("a:popover:beforeHide:immersiveView",
L);e.on("detailpage-imageblock-leave-pip",P)}});"use strict";r.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(e,a,c,f,k,d,m,h,p){function n(){var b=a("#iv360Tab").height();g.css("height",b);var c=g.find("#ivTitle360").outerHeight(!0),d=g.find("#ivVariationSelection360").outerHeight(!0),e=g.find("#ivThumbs360"),f=m.getDimension(e,"margin-top")+
m.getDimension(e,"margin-bottom");e.css("height",b-c-d-f);b=g.find("#ivStage360");c=g[0]&&g[0].getBoundingClientRect&&Math.floor(g[0].getBoundingClientRect().width)||g.width();b.css("width",c-m.getDimension(g,"padding-left")-m.getDimension(g,"padding-right")-g.find("#ivThumbColumn360").width()-m.getDimension(b,"margin-left")-m.getDimension(b,"margin-right"))}function r(){D();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});m.animateStageIn(a)},200);t()}function t(){if(0<
u){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function E(b,c){if(u<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*G+"px",height:O+"px"});e.hide();c.append(e);e.get(0).onload=function(){c.closest(document.documentElement).length&&(u++,1===u&&(t(),0<C&&(k.time("dppc_loadTime360",Date.now()-C,v.mediaAsin),d.postTimeMetric("dppc_loadTime360",Date.now()-C))),0<Z&&(k.time("dppc_perSpriteloadTime360",Date.now()-Z,v.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",
Date.now()-Z)),g.find("#iv360Spinner").hide(),e.show(),W=5*q.imageLocations[Math.floor(da/q.imageLocations[0].length)][da%q.imageLocations[0].length],E(b,c))};e.attr("src",b[u].replace(/(\._SP)\d+(,)\d+/,"$1"+V+"$2"+S));Z=Date.now()}}function w(a){if(c.isDefined(q.spriteWidthSizes)&&0<q.spriteWidthSizes.length){var b=q.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function D(){var b=g.find("#ivLarge360");
b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",v.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),
ca=!0,L())}function L(){if(c.isDefined(q.spriteURLs)&&c.isDefined(g)&&ca&&!ha){var d=g.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(q.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",q.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(v.staticStrings.dragToSpin).appendTo(e);e.appendTo(d);var e=
q.imageWidth,f=q.imageHeight,h=d.parent().width(),k=d.parent().height(),l=0,m=0;e/f>h/k?(V=w(h),S=Math.round(f/e*V),G=Math.ceil(h),O=Math.ceil(S/V*h),m=(k-O)/2):(S=w(k),V=Math.round(e/f*S),O=Math.ceil(k),G=Math.ceil(V/S*k),l=(h-G)/2);d.css({"margin-left":l,"margin-top":m,width:G+"px",height:O+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*G+"px");E(q.spriteURLs,g.find("#image-360-sprites"),0);e=g.find("#ivLarge360");e.bind("mousedown",N);e.bind("touchstart",
R);e.bind("touchmove",Q);e.bind("touchend",P);a(document).bind("mousemove",B);a(document).bind("mouseup",b);c.isDefined(v.staticImages.grab)&&d.css("cursor","url('"+v.staticImages.grab+"'), auto");ha=!0}}function R(a){aa=!0;ga=a.originalEvent.targetTouches[0].clientX}function Q(a){aa&&(x(a.originalEvent.targetTouches[0].clientX-ga),ga=a.originalEvent.targetTouches[0].clientX)}function P(a){aa&&(aa=!1)}function N(a){la=!0;Y=a.originalEvent.clientX;c.isDefined(v.staticImages.grabbing)&&(a=g.find("#ivLarge360"),
a.css("cursor","url('"+v.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+v.staticImages.grabbing+"'), auto"));return!1}function B(a){la&&(x(a.originalEvent.clientX-Y),Y=a.originalEvent.clientX)}function b(a){la&&(la=!1,c.isDefined(v.staticImages.grab)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+v.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function x(a){W-=a/G*180;ma&&(k.count("dppc_360dragToSpin",v.mediaAsin),
d.postCountMetric("dppc_360dragToSpin"));ma=!1;for(a=W;0>a;)a+=360;for(;360<a;)a-=360;W=a;var b;a=360;for(var e=0;e<u;e++)for(var f=0;f<q.imageLocations[e].length;f++){var h=Math.abs(W-5*q.imageLocations[e][f]);h<a&&(a=h,b=e*q.imageLocations[0].length+f)}b!==da&&(a=Math.floor(b/q.imageLocations[0].length),a!==Math.floor(da/q.imageLocations[0].length)&&(c.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),e=g.find("#image-360-sprites").children(),ka.drawImage(e[a],0,0)),a=g.find(".iv360Hint").not(".iv360HintFaded"),
c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));da=b;a=b%q.imageLocations[0].length*-1*G;b=-1*Math.floor(b/q.imageLocations[0].length)*O;e=g.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");e.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function A(){if(ba){g=a("#ivMain360");var b=I.getCurrentItem().color;y()&&F(b);q=y()?v.spin360ColorData[b]:ia;m.populateTitle(g.find("#ivTitle360"),160,v);m.populateVariationSelection(g.find("#ivVariationSelection360"));
g.find("#ivLarge360").empty();u=0;ha=ca=!1;da=W=0;ea();ba=!1}0!==a("#iv360Tab").height()&&(m.detachImmersiveViewResizeHandler(A),n(),r(),C=Date.now(),ja=ma=!0,k.count("dppc_click360",v.mediaAsin),d.postCountMetric("dppc_click360"))}function l(a,b,e){a=v.colorToAsin[e];var g={},l=500;if(!a||!a.asin)if(e===v.defaultColor)a={asin:v.winningAsin};else return;g.params={asin:a.asin};var m="360"+a.asin,n=Date.now();g.success=function(a){k.time("dppc_asyncRequestTime360",Date.now()-n,v.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-n);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&h.setData(a),c.ajaxState(m,"success")):g.error()};g.error=function(){k.count("dppc_asyncFailedTransient360",v.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");k.time("dppc_asyncRequestTime360",Date.now()-n,v.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);l*=2;16E3>=l?setTimeout(function(){n=Date.now();f.load("/gp/product/features/apparel-main-image/360.html",g)},l):(k.count("dppc_asyncFailed360",
v.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),c.ajaxState(m,"fail"))};c.ajaxState(m)&&"fail"!==c.ajaxState(m)||(f.load("/gp/product/features/apparel-main-image/360.html",g),c.ajaxState(m,"sent"))}function y(){return v&&c.isDefined(v.spin360ConfigEnabled)&&v.spin360ConfigEnabled}function F(a){return c.isDefinedAndNotEmpty(v.spin360ColorData[a])?!0:c.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled}function K(){ja&&(k.time("dppc_duration360",Date.now()-C,v.mediaAsin),d.postTimeMetric("dppc_duration360",
Date.now()-C),ja=!1)}function T(a){a=v.colorToAsin[a.color]&&v.colorToAsin[a.color].asin;a||(a=v.mediaAsin);return a}var z,v,I,M,g,q,G,O,S,V,Y,ga,ca=!1,ha=!1,W=0,da=0,C=0,Z=0,la=!1,aa=!1,u=0,ka,ma=!0,ja=!1,ba=!0,ea=e.once(function(){m.attachImmersiveViewResizeHandler(A);m.attachImmersiveViewResizeHandler(n);m.attachImmersiveViewResetHandler(K);m.attachTabDeselectHandler("iv360Tab",K)});return function(b,f,g,n){z=this;v=b;I=f;M=n;b=v.landingAsinColor;f=v.defaultColor;c.isDefined(v.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",m.addStyleCodeToURL(v.staticImages.icon360,"_FMpng_RI_"));y()&&(v.spin360ColorData||(v.spin360ColorData={}),b===f&&c.isDefinedAndEmpty(v.spin360ColorData[f])&&delete v.spin360ColorData[f]);e.on(p.TWISTER_DATA_EVENT,function(a){T(I.getCurrentItem())===a&&(q=h.getData(a),L(),a={type:"updatedData",data:I.getCurrentItem()},M.dispatch("updateView",a))});z.render=function(b,f,g,n,p,q){ba=!0;!y()||c.isDefinedAndEmpty(v.spin360ColorData[b])&&
!h.getData(T(I.getCurrentItem()))?m.hideTabHeading("iv360TabHeading"):(v.spin360ColorData[b]=h.getData(T(I.getCurrentItem())),c.isDefinedAndNotEmpty(v.spin360ColorData[b])?(a("#ivThumbs360").hide(),m.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(v,I.getCurrentItem().color)&&y()&&F(b)&&(f===v.maxAlts&&(b=n.find(".item.imageThumbnail"),f=n.find(".item.videoThumbnail"),c.isDefined(f)&&1<f.length?f.last().remove():b.last().remove()),b=n.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
e.declarative.create(b,"button-360-click"),n.append(b),k.count("dppc_display360",v.mediaAsin),d.postCountMetric("dppc_display360"))):c.isDefined(v.spin360LazyLoadEnabled)&&v.spin360LazyLoadEnabled?(v.spin360ColorData[b]={},m.hideTabHeading("iv360TabHeading"),l(n,f,b)):m.hideTabHeading("iv360TabHeading"))};z.update=function(a){};m.attachTabSelectHandler("iv360Tab",A)}});r.register("nexusLogger360",function(){return{count:function(e,a){t.ue&&t.ue.event({asin:a,metricName:e,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(e,a,c){t.ue&&t.ue.event({asin:c,metricName:e,metricValue:a},"hit-360","hit360.clientEvent.3")}}});r.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});r.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,a){var c={};return{setData:function(f){var k=f.asin;c[k]||(c[k]=f,e.trigger(a.TWISTER_DATA_EVENT,k))},getData:function(a){return c[a]}}});"use strict";r.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",
function(e,a){var c;return function(a,e,d,m){c=this;c.render=function(){};c.update=function(){}}});"use strict";r.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,a){r.register("vse_ns_preLoaderHook",function(){function c(f,k){try{var d=f.A,m=f.block,h=f.request,p=f.handleFailure,n=f.handleSuccess,r=d.$;k--;var t=3-k-1,E=d.now();d.ajax("/vap/ew/componentbuilder",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||
5E3,withCredentials:!0,success:function(a){var c=d.now()-E;e.postTimeMetric("vse_preLoaderHook:success:",c);e.postCountMetric("vse_preLoaderHook:success:"+h.page+":"+h.placement+":"+t);r(m).html(a);n(d,h,a)},error:function(a){e.postCountMetric("vse_preLoaderHook:error:"+h.page+":"+h.placement+":"+t);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<k?c(f,k):(e.postCountMetric("vse_preLoaderHook:error:",1),p(d,h,a))}})}catch(w){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",
w)}}return{get:function(a,e,d,m,h){c({A:a,block:e,request:d,handleFailure:h,handleSuccess:m},3)}}});r.register("vse_ns_lazyLoaderHook",function(){function c(f,k,d){try{var m=f.A,h=f.context,p=f.handleFailure,n=f.handleSuccess;k.attr("data-configuration");var r=atob(k.attr("data-configuration")),t=JSON.parse(r),E={pageContext:h,configuration:t},w=m.now();d--;var D=3-d-1;m.ajax("/vap/ew/subcomponent/"+t.type,{params:E,paramsFormat:"json",method:"post",contentType:"application/json",timeout:h.timeout||
5E3,withCredentials:!0,success:function(a){var c=m.now()-w;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+h.page+":"+h.placement+":"+t.type+":"+D);k.html(a);n(m,E,a)},error:function(a){e.postCountMetric("vse_lazyLoaderHook:error:"+h.page+":"+h.placement+":"+t.type+":"+D);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?c(f,k,d):(e.postCountMetric("vse_lazyLoaderHook:error:",1),p(m,E,a))}})}catch(L){a.logError("FATAL","vse_ns_desktop",
"[vse_ns_lazyLoaderHook] ",L)}}return{get:function(a,e,d,m,h){var p=a.$;p(e+" div[data-configuration]").each(function(){c({A:a,context:d,handleFailure:h,handleSuccess:m},p(this),3)})}}});r.register("vse_ns_videoPlayer",function(){function c(f,k,d){try{var m=f.A,h=f.block,p=f.request,n=f.handleFailure,r=f.handleSuccess,t=m.$;d--;var E=3-d-1,w=m.now();m.ajax("/vap/ew/subcomponent/vseplayer",{params:p,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:p.timeout||
5E3,withCredentials:!0,success:function(a){var c=m.now()-w;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+p.page+":"+p.placement+":"+E);t(h).html(a);r(m,p,a)},error:function(a){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+p.page+":"+p.placement+":"+E);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?c(f,d):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),n(m,p,a))}})}catch(D){a.logError("FATAL","vse_ns_lightPlayer",
"[vse_ns_lightPlayerLoaderHook] ",D)}}return{get:function(a,e,d,m,h){c({A:a,block:e,request:d,handleFailure:h,handleSuccess:m},3)}}})});"use strict";r.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(e,a,c,f,k){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=c.colorImages,e=0,p;for(p in a)a[p]&&a[p].length&&(e+=a[p].length);a="image_size_bucket:gt"+d[d.length-1];for(p=1;p<d.length;p++)if(e<=d[p]){a="image_size_bucket:"+d[p-1]+"-"+d[p];break}k.postCountMetric(a);
f.addTag(a)})();(function(){var c=a.colorImages;c&&c.initial&&c.initial.length&&(c=c.initial.length,t.ue&&ue.count&&ue.count("altImageCount",c))})();(function(){var a=c.lazyLoadExperienceDisabled;f.isDefined(c.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),f.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});r.when("A","get-resource-time","postMetric","afterLoad").execute(function(e,a,c){var f=e.state("desktop-landing-image-data");f&&(f=
e.values(f),a=a.getResourceTimeByName("img",f),e.each(a,function(a){a&&(a.responseEnd!=ia&&c.postCountMetric("ibDesktopLandingImageDownloadTime",t.parseInt(a.responseEnd)),a.transferSize!=ia&&(0===a.transferSize?c.postCountMetric("ibDesktopLandingImageCached",1):(c.postCountMetric("ibDesktopLandingImageSizeInBytes",t.parseInt(a.transferSize)),c.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});r.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(e,
a,c,f){function k(c,d){var e=a("\x3cimg src\x3d'"+(d?w.staticImages.shoppableSceneDotHighlighted:w.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:d?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(d?"active-tag":"inactive-tag");return e}function d(c){var d=a("\x3cspan\x3e");e.each(c.tags,function(c){var f=a("\x3cdiv\x3e").css({position:"absolute",left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});f.append(k(c,!1));f.append(k(c,!0));f.bind("mouseenter",
function(){m(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});e.declarative.create(f,"scenes-show-details-tags-ib",{tagId:c.link});d.append(f)});return d.children()}function m(a){a.addClass("mirai-scene-dot-pulsate");e.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function h(a,c){a.css({display:"none"});c.css({display:"inline-block"})}function p(a,c,d){a.eq(d).css({display:"inline-block"});c.eq(d).css({display:"none"})}function n(a){r.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",
function(){e.trigger("mirai:scene-details-change",{physicalId:a})})}function t(){var c=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),d=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",w.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(w.staticStrings.shoppableSceneViewProductsButton);return c.append(d).append(e)[0].outerHTML}function H(a){function c(){a.$tagPlaceholder.replaceWith(n);
var b=n.find(".mirai-scene-tag.active-tag"),d=n.find(".mirai-scene-tag.inactive-tag");p(b,d,0);m(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));L=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});A=!0;f.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var k=a.$viewProductsButton.find(".a-button-text");if(0===k.children().length){k.append(t());e.declarative.create(a.$viewProductsButton,
"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var n=d(a.shoppableScene),B=n.find(".mirai-scene-tag.active-tag"),b=n.find(".mirai-scene-tag.inactive-tag"),x=a.shoppableScene.physicalId,A=!1;e.on("mirai:index:change",function(a){a.scenePhysicalId===x&&(a=a.selectedIndices[0],h(B,b),p(B,b,a),m(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),L=!0)});e.on("mirai:scene-details-change",function(a){a.physicalId!==x||L||(h(B,b),p(B,b,0),m(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
L=!0)});e.on("mirai:no-products-active",function(a){a.scenePhysicalId===x&&h(B,b)});e.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===x&&(h(B,b),p(B,b,0))});e.on("a:image:load:shoppable-scene:"+a.index,function(){A||(c(),f.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});e.on("shoppable-scene-image-loaded",function(b){b.index!=a.index||A||(c(),f.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});r.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){e.trigger("mirai:scene-side-sheet-init",{icons:w.staticImages,strings:w.staticStrings});e.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var E,w,D,L=!1;return function(a,d,e,f){E=this;w=a;D=f;c.isShoppableScenesEnabled()?(D.register("initialize-shoppable-scene",H),E.render=function(a,b,c,d,e,f,h){},E.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?n(a.data.shoppableScene.physicalId):L=!1)}):(a=function(){},E.render=a,E.update=
a)}});r.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
