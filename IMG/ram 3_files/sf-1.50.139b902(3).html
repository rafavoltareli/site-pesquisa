<!DOCTYPE html>
<!-- saved from url=(0097)https://images-na.ssl-images-amazon.com/images/S/apesafeframe/ape/sf/desktop/sf-1.50.139b902.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
        <!-- APE SafeFrame v1.50.139b902 -- 2023-03-08T22:10:11+0000 -->
        <meta http-equiv="Cache-Control" content="public">
        <meta name="ROBOTS" content="NONE, NOARCHIVE, NOSNIPPET, NOODP, NOSITELINKSEARCHBOX, NOTRANSLATE, NOIMAGEINDEX ">
        <style type="text/css">
            body { margin:0px;padding:0px;background-color:transparent; }
        </style>
    </head>
    <body marginwidth="0" marginheight="0">
        <!-- @if DEBUG -->
        <!-- build:js:test inline sf.js -->
        <!-- @endif -->

        <!-- @if !DEBUG -->
        <script>
!function(){function e(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const t=e=>{window.removeEventListener("message",e),window.addEventListener("message",e)},i=()=>{try{Object&&Object.defineProperty&&"function"==typeof Object.defineProperty?Object.defineProperty(document,"cookie",{get:function(){return""},set:function(){}}):(document.__defineGetter__("cookie",(function(){return""})),document.__defineSetter__("cookie",(function(){})))}catch(e){}},a=e=>"V"===e,n={1027:"Sponsored Display DRA"},r=e=>{const t=e.querySelectorAll("script");for(const e of t){var i,a;const t=document.createRange();t.selectNode(e);const n=t.createContextualFragment(e.outerHTML).firstElementChild;if(n.getAttribute("src"))n.async=!1;else{const t=e.innerHTML;n.async=!1,n.setAttribute("src",`data:text/javascript;charset=UTF-8,${encodeURIComponent(t)}`)}null===(i=e.parentNode)||void 0===i||i.insertBefore(n,e.nextSibling),null===(a=e.parentNode)||void 0===a||a.removeChild(e)}},o=e=>{if(null==document.documentElement){const e=document.createElement("html");document.appendChild(e)}document.documentElement.innerHTML=e},s={1:"Enabled",0:"NotEnabled","-1":"Unknown"},d=e=>(e=>{let t,i="";const a=e.length;for(let n=0;n<a;n++)t=e[n],i+=String.fromCodePoint(t>251&&t<254&&n+5<a?1073741824*(t-252)+(e[++n]-128<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>247&&t<252&&n+4<a?(t-248<<24)+(e[++n]-128<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>239&&t<248&&n+3<a?(t-240<<18)+(e[++n]-128<<12)+(e[++n]-128<<6)+e[++n]-128:t>223&&t<240&&n+2<a?(t-224<<12)+(e[++n]-128<<6)+e[++n]-128:t>191&&t<224&&n+1<a?(t-192<<6)+e[++n]-128:t);return i})(((e,t)=>{const i=e.replace(/[^A-Za-z0-9+/]/g,""),a=i.length,n=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,r=new Uint8Array(n);let o,s,d=0,l=0;for(let e=0;e<a;e++)if(s=3&e,d|=((c=i.charCodeAt(e))>64&&c<91?c-65:c>96&&c<123?c-71:c>47&&c<58?c+4:43===c?62:47===c?63:0)<<6*(3-s),3===s||a-e==1){for(o=0;o<3&&l<n;)r[l]=d>>>(16>>>o&24)&255,o++,l++;d=0}var c;return r})(e));var l,c,m,u,h;(c=l||(l={})).IFRAME_INIT="adload:iframeinitialized",c.RENDER_START="adload:renderstart",c.RENDER_END="adload:renderend",c.CREATIVE_WRITTEN="adload:creativewritten",c.IMP="adload:impression",c.UNSERVED_IMP="adload:unservedimpression",c.VIEWABILITY="adload:viewability",c.UNSERVED_VIEWABILITY="adload:unservedviewability",c.MEASURABILITY="adload:measurability",c.MEASUREMENT_HTML="adload:measurementhtml",(u=m||(m={})).REQUEST_START="adfetch:request",u.PUNT_RETURNED="adfetch:punt",u.ERROR_RETURNED="adfetch:error",u.EMPTY_RESPONSE="adfetch:noad",u.RENDERED_AD="adfetch:renderad",u.RENDER_ERROR="adfetch:rendererror",u.HTTP_ERROR="adfetch:httperror",u.EXCEPTION="adfetch:exception",(h||(h={})).DEPENDENCIES_NOT_MET="ResourceTimingData.DependenciesNotMet";var g,v,E,p,f,w,I,T,R,M,y,b,C,S,N;(v=g||(g={})).LEGACY_IMPRESSION_COUNTER="imp:legacy",v.GLOBAL_IMPRESSION_FIRED_COUNTER="impressionFired",(p=E||(E={})).LOADED="btr:loaded",p.ERROR="btr:error",p.IMPRESSION="btr:impression",p.NO_IMAGES="btr:noimages",p.TAGGED="btr:taggedcreative",(w=f||(f={})).POLL_END="crem:pollingcomplete",w.POLL_BTR="crem:pollingisbtr",(T=I||(I={})).START="bb",T.LEGACY_END="cf",T.END="ld",T.SCOPE_NAME="sfImpression",T.POLLING_SCOPE="PollingSfImpression",(M=R||(R={})).IFRAME_INIT="adload_iframeinitialized",M.RENDER_START="adload_renderstart",M.RENDER_END="adload_renderend",M.CREATIVE_WRITTEN="adload_creativewritten",M.IMP="impression",M.UNSERVED_IMP="unservedimpression",M.VIEWABILITY="viewability",M.UNSERVED_VIEWABILITY="unservedviewability",M.MEASURABILITY="measurability",M.MEASUREMENT_HTML="measurementhtml",(y||(y={})).API="messenger_",(C=b||(b={})).REQUEST_START="adfetch_request",C.PUNT_RETURNED="adfetch_punt",C.ERROR_RETURNED="adfetch_error",C.EMPTY_RESPONSE="adfetch_noad",C.RENDERED_AD="adfetch_renderad",C.RENDER_ERROR="adfetch_rendererror",C.HTTP_ERROR="adfetch_httperror",C.EXCEPTION="adfetch_exception",(N=S||(S={})).DEPENDENCIES_NOT_MET="resourceTimingData_DependenciesNotMet",N.DEPENDENCIES_MET="resourceTimingData_DependenciesMet";var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.evaluateBTRCriteria=void 0;var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.evaluateBTRCriteria=void 0;var D="visibilitychange";_.evaluateBTRCriteria=function(e,t,i){if(k(e)){var a=function(){k(e)||(i(A(t)),e.removeEventListener(D,a))};e.addEventListener(D,a)}else i(A(t))};var x,L,A=function(e){var t=e.getElementsByClassName("mrc-btr-creative"),i=t.length>0;if(i){var a=O(t);return{isBTRTaggedCreative:i,isBTRCompliant:a.isBTRCompliant,imagesData:a.imagesData}}var n=e.getElementsByTagName("img"),r=F(n);return{isBTRTaggedCreative:i,isBTRCompliant:r.isBTRCompliant,imagesData:r.imagesData}},O=function(e){for(var t=[],i=0,a=0,n=0;n<e.length;n++){var r=e[n];r instanceof HTMLImageElement&&(B(r)?(t.push({src:r.src,isLoaded:!0}),a++):(t.push({src:r.src,isLoaded:!1}),i++))}return{isBTRCompliant:a>0&&0===i,imagesData:t}},F=function(e){for(var t=[],i=0,a=0,n=0;n<e.length;n++){var r=e[n];r instanceof HTMLImageElement&&(B(r)?U(r)||(t.push({src:r.src,isLoaded:!0}),i++):(t.push({src:r.src,isLoaded:!1}),a++))}return{isBTRCompliant:i>0&&0===a,imagesData:t}},B=function(e){return e.complete&&e.naturalHeight>0&&e.naturalWidth>0},U=function(e){return 1===e.naturalHeight&&1===e.naturalWidth},k=function(e){return"prerender"===e.visibilityState};function V(e,t){const i=function(i){let a=x.COUNT_ON_DOWNLOAD_CLIENT;if(i){i.isBTRCompliant&&(a=x.BEGIN_TO_RENDER_CLIENT),i.isBTRTaggedCreative&&(e.countMetric(E.TAGGED,1,!1),e.countMetric(E.TAGGED,1,!0));const t=i.imagesData||[];0===t.length?(e.countMetric(E.NO_IMAGES,1,!1),e.countMetric(E.NO_IMAGES,1,!0)):t.every((e=>e.isLoaded))?(e.countMetric(E.LOADED,1,!1),e.countMetric(E.LOADED,1,!0)):(e.countMetric(E.ERROR,1,!1),e.countMetric(E.ERROR,1,!0))}t(a)};"complete"===document.readyState?(0,P.evaluateBTRCriteria)(document,document.body,i):window.addEventListener("load",(()=>{(0,P.evaluateBTRCriteria)(document,document.body,i)}))}Object.defineProperty(P,"evaluateBTRCriteria",{enumerable:!0,get:function(){return _.evaluateBTRCriteria}}),(L=x||(x={})).BEGIN_TO_RENDER_CLIENT="btr_client",L.COUNT_ON_DOWNLOAD_CLIENT="cod_client";let H=null,W=null,G=null,j=null,z=null;const Y={ext:{}};const X=new class{viewabilityStandards(){return j=j||[],j}payload(){return G=G||{},G}};Y.ext.inViewPercentage=()=>(H=H||0,Math.round(100*H)),Y.ext.geom=()=>(W=W||{},W);const $={playingTime:()=>(z=z||0,z)},J=()=>X,q=()=>$,Q=e=>{var t,i,a,n;H=void 0!==(null==e||null===(t=e.geom)||void 0===t||null===(i=t.self)||void 0===i?void 0:i.iv)?null==e||null===(a=e.geom)||void 0===a||null===(n=a.self)||void 0===n?void 0:n.iv:null,null===H&&delete Y.ext.inViewPercentage,W=void 0!==(null==e?void 0:e.geom)?null==e?void 0:e.geom:null,null===W&&delete Y.ext.geom,G=void 0!==(null==e?void 0:e.payload)?null==e?void 0:e.payload:null,null===G&&delete X.payload,j=void 0!==(null==e?void 0:e.viewabilityStandards)?null==e?void 0:e.viewabilityStandards:null,null===j&&delete X.viewabilityStandards},K="viewable",Z="not_viewable";class ee{constructor(){e(this,"_viewableStartTimeInMilliseconds",void 0),e(this,"_currentState",Z),e(this,"_isCurrentlyInNotViewableState",(()=>this._currentState===Z)),e(this,"transitionToViewableState",(e=>{this._isCurrentlyInNotViewableState()&&(this._viewableStartTimeInMilliseconds=e),this._currentState=K})),e(this,"transitionToNotViewableState",(()=>{this._currentState=Z})),e(this,"getViewableTimeInSeconds",(e=>this._isCurrentlyInNotViewableState()||void 0===this._viewableStartTimeInMilliseconds?0:(e-this._viewableStartTimeInMilliseconds)/1e3))}}var te,ie,ae,ne,re,oe;!function(e){e.START="adload:start",e.CALLBACK="adload:delayloadcallback",e.IFRAME_CREATED="adload:iframecreated"}(te||(te={})),(ae=ie||(ie={})).SF_LIBRARY="cache:sflibrary:",ae.SF_HTML="cache:sfhtml:",(re=ne||(ne={})).REQUEST="adfeedback:request",re.SUCCESS="adfeedback:success",re.ERROR="adfeedback:error",re.LABEL_RENDER="adfeedback:sponsoredlabelrender",(oe||(oe={})).API="messenger:";var se;!function(e){e.NEXUS_CLIENT_NOT_DEFINED="ResourceTimingData.NexusClientNotDefined",e.LOGGING_FAILED="ResourceTimingData.LoggingFailed",e.LOGGING_SUCCESSFUL="ResourceTimingData.LoggingSuccessful",e.DEPENDENCIES_NOT_MET="ResourceTimingData.DependenciesNotMet"}(se||(se={}));const de={ALLOWLISTED:"custommessage:allowlisted",NOT_ALLOWLISTED:"custommessage:notallowlisted"};var le,ce,me;(ce=le||(le={})).PAGE_PRERENDER="pixelcondition:pageprerender",ce.AD_MISSING="pixelcondition:admissing",function(e){e.START="bb",e.SCOPE_NAME="sfImpression",e.POLLING_SCOPE="PollingSfImpression"}(me||(me={}));const ue=()=>window.innerHeight||document.documentElement.clientHeight,he=()=>window.innerWidth||document.documentElement.clientWidth,ge=e=>{const t={atf:ve(e)};if(!e||!window||!document)return t;const i=we(),a=Ie(e),n=Me(e);return{atf:ve(e),geom:{win:i,self:a,exp:n},payload:{wh:i.h,ww:i.w,sx:window.scrollX,sy:window.scrollY,ah:a.h,aw:a.w,top:a.t,left:a.l}}},ve=e=>{if(!e)return"unknown";const t=function(e){if(!window||!(null===document||void 0===document?void 0:document.body))return null;const t=Te(e,null),i=ue(),a=he(),n=document.body.getBoundingClientRect(),r=Math.max(0,Math.min(n.left+a,t.r)-t.l),o=Math.max(0,Math.min(n.top+i,t.b)-t.t),s=r*o/(t.h*Math.min(t.w,a));return Number(Math.min(1,Math.max(0,s)).toFixed(2))}(e);return null==t?"unknown":t>=.5};const Ee=e=>{if(!window||!document)return null;const t=pe(e),i=we(),a=Ie(null,t);return{atf:"unknown",geom:{win:i,self:a,exp:Me(null,t)},payload:{wh:i.h,ww:i.w,sx:window.scrollX,sy:window.scrollY,ah:a.h,aw:a.w,top:a.t,left:a.l}}},pe=e=>{const t=e.initialBoundingRect,i=t.top-(window.scrollY-e.originalScrollY),a=i+e.adHeight,n=t.left-(window.scrollX-e.originalScrollX);return{top:i,bottom:a,left:n,right:n+e.adWidth,width:e.adWidth,height:e.adHeight}},fe=(e,t,i)=>{let a=0;return"visible"!==document.visibilityState?a:(a=e>0?i-e:t>0?Math.min(t,i):0,Math.min(a,t-e))},we=()=>{const e=window.screenY?window.screenY:window.screenTop,t=window.screenX?window.screenX:window.screenLeft,i=he(),a=ue();return{t:e,l:t,w:i,h:a,b:e+a,r:t+i}},Ie=(e,t)=>{const i=Te(e,t),a=Re(i);return{t:i.t,l:i.l,r:i.r,b:i.b,w:i.w,h:i.h,z:i.z,xiv:a.xiv,yiv:a.yiv,iv:a.iv}},Te=(e,t)=>{const i=t||(null==e?void 0:e.getBoundingClientRect());return{t:i.top,l:i.left,r:i.right,b:i.bottom,w:i.width,h:i.height,z:e?Number(window.getComputedStyle(e,null).zIndex):NaN}},Re=e=>{const t=he(),i=ue(),a=Math.max(0,fe(e.t,e.b,i)),n=Math.max(0,fe(e.l,e.r,t)),r=a*n,o=e.h*Math.min(e.w,t);return 0!==o||0!==r?{xiv:Number(Math.min(1,n/e.w).toFixed(2)),yiv:Number(Math.min(1,a/e.h).toFixed(2)),iv:Number(Math.min(1,Math.max(0,r/o)).toFixed(2))}:{xiv:0,yiv:0,iv:0}},Me=(e,t)=>{const i=t||(null==e?void 0:e.getBoundingClientRect());return{t:i.top,l:i.left,r:he()-i.right,b:ue()-i.bottom,xs:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)>he()?1:0,yx:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)>ue()?1:0}};function ye(e,t,i,a){if(window.ue&&"function"==typeof window.ue.count){let n="adplacements:"+i;if(e&&(n+=":"+e.replace(/_/g,":")),window.ue.count(n,a),t){const e="adplacements:"+(i&&t?i+":":i)+t;window.ue.count(e,a)}}}new class{constructor(){e(this,"latencyPlugin",void 0),e(this,"events",void 0)}};const be="ERROR";function Ce(e,t){const i=t||new Error(e);console.error(e,t),ye("",null,"safeFrameError",1),window.sfHostLogErrors&&(window.ueHostLogError?window.ueHostLogError(i,{logLevel:be,attribution:"APE-safeframe",message:e+" "}):"undefined"!=typeof console&&console.error&&console.error(e,i))}const Se=e=>e.replace(/^.{1,5}:\/\/|^\/\//,""),Ne=(e,t)=>{const i=(()=>{const e=window.location.hostname.split(".").pop();let t="na";return/^(com|ca|mx|br)$/.test(e)?t="na":/^(uk|de|fr|it|es|in|ae|sa|nl|tr|se|pl|eg|be)$/.test(e)?t="eu":/^(jp|au|sg)$/.test(e)?t="fe":/^(cn)$/.test(e)&&(t="cn"),"https://images-"+t+".ssl-images-amazon.com"})();return e&&e.options&&Se(t.origin)===Se(i)},Pe=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window,_e=e=>e&&0===Object.keys(e).length&&e.constructor===Object;new class{customMessage(e,t,i,a,n){const r=this.msgListeners;try{"undefined"!==i&&Array.isArray(i)&&(i.indexOf(e)>-1&&r[e]?(ye(null,null,de.ALLOWLISTED+":"+e,1),r[e](t)):-1===i.indexOf(e)?(ye(null,null,de.NOT_ALLOWLISTED,1),ye(a,n,de.NOT_ALLOWLISTED,1)):Ce("Unrecognized custom message key: "+e))}catch(e){Ce("Custom Message Error",e)}}isElementInDOM(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}constructor(t,i,a){e(this,"adMap",void 0),e(this,"supportedCommands",void 0),e(this,"msgListeners",void 0),e(this,"getIframe",(e=>{var t;const i=this.adMap,a=i[e].options;if(_e(i)||_e(a))return null;const n="ape_"+a.slot+"_iframe";return i[e].iframe&&(i[e].iframe=i[e].iframe&&(null===(t=i[e].iframe)||void 0===t?void 0:t.innerHTML)?i[e].iframe:document.getElementById(n)),i[e].iframe})),e(this,"sendMessageToAd",((e,t,i)=>{const a=this.getIframe(e),n=a?a.contentWindow:null;if(n){const e={command:t,data:i};n.postMessage(e,"*")}})),e(this,"receiveMessage",(e=>{const t=this.adMap;if(_e(t))return;try{var i,a,n,r;if((null===(r=null==e||null===(i=e.data)||void 0===i||null===(a=i.message)||void 0===a||null===(n=a.id)||void 0===n?void 0:n.toLowerCase())||void 0===r?void 0:r.indexOf("mash"))>-1)throw"Received Mash message"}catch(e){return}const o=e.data,s=t[o.arid];try{const t=this.supportedCommands,i=Ne(s,e);if("object"!=typeof o.data||!t.hasOwnProperty(o.command))return;if(!i)throw"Invalid Message Origin: "+e.origin;const a=t[o.command];a&&(s.options.debug&&"undefined"!=typeof console&&console.log(e),a(s,o.data))}catch(t){let i="Problem with message: "+e.data;void 0!==o&&(i+=this.appendErrorDetails(o.arid)),Ce(i,t)}})),e(this,"appendErrorDetails",(e=>{const t=this.adMap;if(_e(t))return"";let i="";if(void 0!==t[e]){const a=t[e].options;void 0!==a.aanResponse&&(i=" Ad Details: "+JSON.stringify(a.aanResponse))}return i})),e(this,"registerCustomMessageListener",((e,t,i)=>{let a=!1;const n=this.msgListeners;try{if(!n[e]||"function"!=typeof n[e]||i)n[e]=t,a=!0;else{Ce("Duplicate Key",new Error("Custom message listener already exists for key: "+e))}}catch(e){Ce("Error registering custom message listener",e)}return a})),e(this,"sendCustomMessage",((e,t)=>{const i=this.adMap,a={key:e,data:t};for(const e in i)this.sendMessageToAd(e,"customMessage",a)})),e(this,"sendCustomMessageToAd",((e,t,i)=>{const a={key:t,data:i};this.sendMessageToAd(e,"customMessage",a)})),e(this,"takeSnapshotOfSlotPosition",(e=>{const t=this.adMap,i=t&&t[e]&&t[e].options;if(!t||_e(t)||!i||_e(i))return;const a=this.getIframe(e);var n;this.adMap[e].options.slotSnapshot={initialBoundingRect:(n=a).getBoundingClientRect(),adHeight:n.offsetHeight,adWidth:n.offsetWidth,originalScrollX:window.scrollX,originalScrollY:window.scrollY}})),e(this,"startPixelTracking",((e,t)=>{let i="prerender"!==document.visibilityState;const a=this.getIframe(e);let n,r,o=this.isElementInDOM(a);const s=this.adMap&&this.adMap[e]&&this.adMap[e].options;!i&&s&&ye(s.slot,s.placementId,le.PAGE_PRERENDER,1),!o&&s&&ye(s.slot,s.placementId,le.AD_MISSING,1);const d=()=>!(!i||!o)&&(t(),r&&document.removeEventListener("visibilitychange",r),n&&Pe()&&n.unobserve(a),!0);if(!d()){const e={root:document.documentElement};Pe()&&(n=new IntersectionObserver((e=>{try{if(1===e.length){e[0].isIntersecting?(o=!0,d()):o=!1}}catch(e){Ce("Error executing intersectionObserver callback")}}),e),n.observe(a)),r=()=>{try{"prerender"!==document.visibilityState?(i=!0,d()):i=!1}catch(e){Ce("Error executing pageVisibilityHandler callback")}},document.addEventListener("visibilitychange",r)}})),e(this,"updateViewability",(e=>{const t=this.adMap,i=t&&t[e]&&t[e].options;if(!t||_e(t)||!i||_e(i))return;const a=this.getIframe(e),n=t[e].options.viewabilityStandards,r=ge(a);null!==r&&(r.viewabilityStandards=n,this.sendMessageToAd(e,"updateViewability",r))})),e(this,"updateNoInventoryViewability",(e=>{const t=this.adMap,i=t&&t[e]&&t[e].options,a=i&&i.slotSnapshot;if(!t||_e(t)||!i||_e(i)||!a)return;const n=i.viewabilityStandards,r=Ee(a);null!==r&&(r.viewabilityStandards=n,this.sendMessageToAd(e,"updateViewability",r))})),this.adMap=t||{},this.supportedCommands=i||{},this.msgListeners=a||{}}};var De,xe;xe=function(){return URL};var Le="{}",Ae="?",Oe="&",Fe="=";function Be(e,t){var i={};for(var a in e)i[a]=e[a];for(var n in t)i[n]=t[n];return i}De=function(e,t,i){if("string"!=typeof e||""===e)throw new Error("Invalid url input to addJSONQueryParamToURL: "+JSON.stringify({url:e}));if("string"!=typeof t||""===t)throw new Error("Invalid queryParamKey input to addJSONQueryParamToURL: "+JSON.stringify({queryParamKey:t}));if("object"!=typeof i)throw new Error("Invalid queryParamValueObject input to addJSONQueryParamToURL: "+JSON.stringify({queryParamValueObject:i}));try{var a=new(xe())(e),n=a.searchParams.get(t)?a.searchParams.get(t):"{}",r=JSON.parse(n);if("object"!=typeof r)throw new Error("Existing query param value was not an object: "+JSON.stringify({existingJSONObject:r}));var o=Be(r,i);return a.searchParams.set(t,JSON.stringify(o)),a.toString()}catch(a){return function(e,t,i){var a,n=e.indexOf(Ae),r={};if(n>0){a=e.substring(0,n),decodeURIComponent(e.substring(n+1)).split(Oe).forEach((function(e){if(e){var t=e.split(Fe);r[t[0]]=t[1]}}));var o=r[t]?r[t]:Le,s=JSON.parse(o);if("object"!=typeof s)throw new Error("Existing query param value was not an object: "+JSON.stringify({existingJSONObject:s}));var d=Be(s,i);r[t]=JSON.stringify(d)}else a=e,r[t]=JSON.stringify(i);var l=[];for(var c in r)l.push(encodeURIComponent(c)+Fe+encodeURIComponent(r[c]));return a+Ae+l.join(Oe)}(e,t,i)}};const Ue=(e,t,i)=>{let a=e+t;return i&&(a+="_"+i),a},ke=(e,t,i,a,n,r,o)=>{if(!(t&&i&&a&&n))return!1;try{return null===document.getElementById(i)&&(((e,t,i,a,n)=>{const r=document.createElement("img");r.id=t,r.src=e,r.style.display="none",r.onload=a,r.onerror=n,i.appendChild(r)})(t,i,document.getElementsByTagName("body")[0],(()=>{e.countMetric(Ue(a,"loaded",r),1),e.logCsaEvent(Ue(n,"loaded",r)),e.sendAdBarTrace("pixels",{loaded:{pixelUrl:t,additionalTrace:o}})}),(()=>{e.countMetric(Ue(a,"error",r),1),e.logCsaEvent(Ue(n,"error",r)),e.sendAdBarTrace("pixels",{error:{pixelUrl:t,additionalTrace:o}})})),e.logCsaEvent(Ue(n,"fired",r)),e.countMetric(Ue(a,"fired",r),1),e.sendAdBarTrace("pixels",{fired:{pixelUrl:t,additionalTrace:o}}),!0)}catch(i){return e.logError("Error firing pixels: "+t,i),!1}},Ve=(e,t)=>{console.error(e,t)},He=e=>e?e.replace(/^http:/,"https:"):e,We=e=>e?e.toLowerCase().replace(/[^0-9a-z]/g,""):"unknown",Ge=(e,t,i)=>{try{t.c.countMetric(l.RENDER_START,1),t.c.logCsaEvent(R.RENDER_START),e.setupOMVideoPlayer(t.o,i),t.c.countMetric(l.RENDER_END,1),t.c.logCsaEvent(R.RENDER_END)}catch(e){t.c.handleFallbackBehavior()}},je=e=>0===Object.keys(e).length&&e.constructor===Object,ze=e=>"Image"===e||"Image - mobile O&O"===e,Ye=(e,t,i,a,n,r)=>{window[i]=t,window[n]=a;const o=r.ownerDocument.createElement("script");o.setAttribute("src",e),o.async=!1,o.onerror=a,r.appendChild(o)};const Xe=new class{_resetViewedPixels(){this.viewedPixels={}}buildPixelUrl(e,t,i){return e+t+JSON.stringify(i)}constructor(t,i,a){e(this,"c",void 0),e(this,"o",void 0),e(this,"mL",void 0),e(this,"viewedPixels",{}),e(this,"_viewableTimeCalculators",{}),e(this,"tagRenderFlow",(()=>{if(this.o&&this.o.adCreativeMetaData&&0!==Object.keys(this.o.adCreativeMetaData).length){const e=We(this.o.adCreativeMetaData.adCreativeTemplateName);this.c.addCsmTag("adrender"),this.c.addCsmTag("adrender:safeframe"),this.c.addCsmTag("adrender","creativetemplatename:"+e),this.sendMessage("addCsaEntity",{adrender:"true",creativeTemplateName:e,isLightAds:"false"}),this.o.adCreativeMetaData.adCreativeId&&(this.c.addCsmTag("adrender","creativeid:"+this.o.adCreativeMetaData.adCreativeId),this.sendMessage("addCsaEntity",{creativeId:this.o.adCreativeMetaData.adCreativeId.toString()})),this.o.adCreativeMetaData.adProgramId&&(this.c.addCsmTag("adrender","programid:"+this.o.adCreativeMetaData.adProgramId),this.sendMessage("addCsaEntity",{adProgramId:this.o.adCreativeMetaData.adProgramId.toString()})),void 0!==this.o.isCardsFlow&&this.sendMessage("addCsaEntity",{isCardsFlow:this.o.isCardsFlow.toString()})}else this.c.addCsmTag("noadrender"),this.sendMessage("addCsaEntity",{adrender:"false"})})),e(this,"produceClientAPIs",(e=>{const t=(e,t,i,a)=>(...n)=>{try{return i&&(this.sendMessage("logAPIInvocation",{apiName:t,apiParams:n}),this.sendMessage("logCsaEvent",{metricName:y.API+t})),e(...n)}catch(e){return"function"==typeof a&&a("API Call Failed",e),null}};this.c=function e(i,a){const n={};for(const r in i){if(!i.hasOwnProperty(r)||"constructor"===r)continue;const o=i[r],s=a?a+"."+r:r;"function"==typeof o?n[r]=t(o,s,!1,Ce):o.hasOwnProperty("apiFunc")?n[r]=t(o.apiFunc,s,o.logInvocation,Ce):"object"==typeof o&&(n[r]=e(o,s))}return n}(e,"")})),e(this,"sendMessage",((e,t)=>{if(je(this.o))return;const i={command:e,arid:this.o.arid,data:t||{}};try{window.parent.postMessage(i,this.o.hostDomain)}catch(e){Ve("Post Message error",e)}})),e(this,"receiveMessage",(e=>{if(je(this.o)||je(this.c))return;try{if("object"!=typeof e||e.origin!==this.o.hostDomain||"object"!=typeof e.data)throw"Invalid Message"}catch(t){const i="Received Error: "+e;return void this.c.logError(i,t)}const t=e.data;try{this.o.debug&&"undefined"!=typeof console&&console.log("SF Message received ",e);const i=t.command?t.command.split("."):[];let a=this.c[i[0]];for(let e=1;e<i.length&&a;e++)a=a[i[e]];if("customMessage"===t.command){const e=t.data.key,i=t.data.data;if("function"==typeof this.mL[e])try{this.mL[e](i)}catch(e){this.c.logError("Custom Message Listener Error",e)}}else a&&a(t.data)}catch(t){return void this.c.logError("Error with "+e.data.command,t)}})),e(this,"hasLoaded",!1),e(this,"fireImageLoaded",(e=>{if(!this.hasLoaded&&ze(e)){var t;const e=null===(t=document.getElementsByClassName("ad-background-image"))||void 0===t?void 0:t[0];if(e&&"IMG"===e.tagName)if(e.complete)this.c.countMetric("imageLoaded",1,!0),this.c.countMetric("imageLoaded:adid:"+this.o.adCreativeMetaData.adId,1,!0),this.hasLoaded=!0;else{var i;const t=null===(i=e.onload)||void 0===i?void 0:i.bind(window);e.onload=e=>{t&&t(e),this.c.countMetric("imageLoaded",1,!0),this.c.countMetric("imageLoaded:adid:"+this.o.adCreativeMetaData.adId,1,!0),this.hasLoaded=!0}}}})),e(this,"fireImpressionPixel",((e,t)=>{if(!je(this.o)&&!je(this.c))if(t){const e=this.buildPixelUrl(this.o.aaxInstrPixelUrl,"nii/",{ni:!0});ke(this.c,e,"ape_ni_impression",l.UNSERVED_IMP,R.UNSERVED_IMP)}else{const t=this.o.adCreativeMetaData.adProgramId?this.o.adCreativeMetaData.adProgramId:"unknown",i=this.o.adCreativeMetaData.adCreativeTemplateName,a=We(i),n=this.o.adCreativeMetaData.adId;let r,o=!1;try{"string"==typeof e?(r=De(this.o.aaxImpPixelUrl,"pj",{measurementMethod:e}),o=e===x.BEGIN_TO_RENDER_CLIENT):r=this.o.aaxImpPixelUrl}catch(e){this.c.logError("Unable to add pj to impression URL",e),r=this.o.aaxImpPixelUrl}ke(this.c,r,"ape_impression",l.IMP,R.IMP)&&(this.c.countMetric(g.GLOBAL_IMPRESSION_FIRED_COUNTER,1,!0),this.c.countMetric(g.GLOBAL_IMPRESSION_FIRED_COUNTER+":program:"+t,1,!0),this.c.countMetric(g.GLOBAL_IMPRESSION_FIRED_COUNTER+":template:"+a,1,!0),o&&(this.c.countMetric(E.IMPRESSION,1,!1),this.c.countMetric(E.IMPRESSION,1,!0),this.c.countMetric(E.IMPRESSION+":program:"+t,1,!0),this.c.countMetric(E.IMPRESSION+":template:"+a,1,!0)),ze(i)&&this.c.countMetric(g.GLOBAL_IMPRESSION_FIRED_COUNTER+":adid:"+n,1,!0))}})),e(this,"fireMeasurabilityPixel",(e=>{if(je(this.o)||je(this.c)||!this.o.aaxInstrPixelUrl)return;const t="ape_measurability";if(this.viewedPixels[t])return;const i={atf:e.atf},a=this.buildPixelUrl(this.o.aaxInstrPixelUrl,"atf/",i);ke(this.c,a,t,l.MEASURABILITY,R.MEASURABILITY),this.viewedPixels[t]=!0})),e(this,"fireViewablePixelsForVideo",((e,t,i,a,n)=>{if(je(this.o)||je(this.c)||!this.o.aaxInstrPixelUrl||!i)return;const r=i=>{t.v=i,t.ptv=void 0!==this.o.aPageStart?(Date.now()-this.o.aPageStart)/1e3:0,t.ttv=void 0!==this.o.adStartTime?(Date.now()-this.o.adStartTime)/1e3:0,a&&(t.niv=!0);const n={viewableInfo:t,aaxInstrPixelUrl:this.o.aaxInstrPixelUrl,viewablePercentage:e};let r;a?(r=this.buildPixelUrl(this.o.aaxInstrPixelUrl,"niv/",t),ke(this.c,r,"ape_ni_viewability_"+i.def,l.UNSERVED_VIEWABILITY,R.UNSERVED_VIEWABILITY,i.def,n)):(r=this.buildPixelUrl(this.o.aaxInstrPixelUrl,"v/",t),ke(this.c,r,"ape_viewability_"+i.def,l.VIEWABILITY,R.VIEWABILITY,i.def,n))},o=(e,t)=>{const i=e.def;t&&((e,t)=>100*e>=t&&0!==t||100*e>t&&0===t)(t,e.p)?this._viewableTimeCalculators[i].transitionToViewableState(Date.now()):this._viewableTimeCalculators[i].transitionToNotViewableState();const a=this._viewableTimeCalculators[i].getViewableTimeInSeconds(Date.now()),o=!this.viewedPixels[i].viewed&&((e,t,i)=>{const a=e>=i.t,n=t&&t>=i.t;return a&&n})(a,n,e);o&&(this.viewedPixels[i].viewed=!0,r(e))};for(let e=0;e<i.length;e++){const t=i[e].def;t&&(this.viewedPixels[t]=this.viewedPixels[t]||{},this.viewedPixels[t].viewed=void 0!==this.viewedPixels[t].viewed&&this.viewedPixels[t].viewed,void 0===this._viewableTimeCalculators[t]&&(this._viewableTimeCalculators[t]=new ee))}for(let t=0;t<i.length;t++)o(i[t],e)})),e(this,"fireViewablePixels",((e,t,i,a)=>{if(je(this.o)||je(this.c)||!this.o.aaxInstrPixelUrl||!i)return;const n=i=>{t.v=i,t.ptv=void 0!==this.o.aPageStart?(Date.now()-this.o.aPageStart)/1e3:0,t.ttv=void 0!==this.o.adStartTime?(Date.now()-this.o.adStartTime)/1e3:0,a&&(t.niv=!0);const n={viewableInfo:t,aaxInstrPixelUrl:this.o.aaxInstrPixelUrl,viewablePercentage:e};let r;a?(r=this.buildPixelUrl(this.o.aaxInstrPixelUrl,"niv/",t),ke(this.c,r,"ape_ni_viewability_"+i.def,l.UNSERVED_VIEWABILITY,R.UNSERVED_VIEWABILITY,i.def,n)):(r=this.buildPixelUrl(this.o.aaxInstrPixelUrl,"v/",t),ke(this.c,r,"ape_viewability_"+i.def,l.VIEWABILITY,R.VIEWABILITY,i.def,n))},r=t=>{const i=t.p,a=t.t,r=t.def;!this.viewedPixels[r].viewed&&e&&((e,t)=>e&&(100*e>=t&&0!==t||100*e>t&&0===t))(e,i)?this.viewedPixels[r].timeout||(this.viewedPixels[r].timeout=setTimeout((()=>{this.viewedPixels[r].viewed=!0,n(t)}),1e3*a)):this.viewedPixels[r].timeout&&(clearTimeout(this.viewedPixels[r].timeout),this.viewedPixels[r].timeout=null)};for(let e=0;e<i.length;e++){const t=i[e].def;t&&(this.viewedPixels[t]=this.viewedPixels[t]||{},this.viewedPixels[t].viewed=void 0!==this.viewedPixels[t].viewed&&this.viewedPixels[t].viewed,this.viewedPixels[t].timeout=void 0===this.viewedPixels[t].timeout?null:this.viewedPixels[t].timeout)}for(let e=0;e<i.length;e++)r(i[e])})),e(this,"handleNoAdContent",(()=>{this.o.isNoInventory=!0,this.tagRenderFlow(),this.sendMessage("startPixelTracking",{isNoInventory:this.o.isNoInventory})})),e(this,"createXspRequest",((e,t,i,a,n)=>{const r=this.c.handleFallbackBehavior,o=this.c.countMetric,s=this.c.logCsaEvent,d=this.c.logError,l=this.c.sendAdBarTrace,c=e=>{const n={callBackReceived:!0,errFallback:r.name};if(e&&0!==Object.keys(e).length){n.adContent=e,n.status=e.status;switch(e.status){case"punt":o(m.PUNT_RETURNED,1),s(b.PUNT_RETURNED),t.aaxInstrPixelUrl=e.instrPixelURL,i(),n.aaxReturnedPunt=!0,l("aaxCall",n);break;case"error":o(m.ERROR_RETURNED,1),s(b.ERROR_RETURNED),r(),n.aaxReturnedError=!0,l("aaxCall",n);break;default:try{t.aaxImpPixelUrl=e.impPixelURL,t.aaxInstrPixelUrl=e.instrPixelURL,t.htmlContent=e.creative,t.measurementHtml=e.aaxMeasurementTrackers&&e.aaxMeasurementTrackers.html,t&&t.adFeedbackInfo&&(t.adFeedbackInfo.adProgramId=e.programId),t&&t.adCreativeMetaData&&(t.adCreativeMetaData.adProgramId=e.programId,t.adCreativeMetaData.adImpressionId=e.impPixelURL,t.adCreativeMetaData.adCreativeId=e.creativeId,t.adCreativeMetaData.adCreativeTemplateName=e.creativeTemplateName,t.adCreativeMetaData.adId=e.adId),n.aaxReturnedContent=!0,l("aaxCall",n),a(t.htmlContent,t.measurementHtml),o(m.RENDERED_AD,1),s(b.RENDERED_AD)}catch(e){console.error(e),r(),o(m.RENDER_ERROR,1),s(b.RENDER_ERROR),n.error="renderError",l("aaxCall",n)}}window.adReporterConfig&&this.sendMessage("saveAdDetailsForAdReporter",t)}else o(m.EMPTY_RESPONSE,1),s(b.EMPTY_RESPONSE),r(),n.error="emptyAAXResponse",l("aaxCall",n)},u=()=>{o(m.HTTP_ERROR,1),s(b.HTTP_ERROR),d("Failed to Fetch Ad From AAX."),l("aaxCall",{error:"httpError"}),r()};o(m.REQUEST_START,1),s(b.REQUEST_START);try{const t="aax_xsp_render_ad",i="fetch_error_handler",a=((e,t)=>{const i=e.replace(/getAd/,"getAdj");return-1===i.indexOf("?")?i+"?callback="+t:i+"&callback="+t})(e,t);l("aaxCall",{jsonpUrl:a,XSPCallSetupComplete:!0}),Ye(a,c,t,u,i,n)}catch(e){h=e,o(m.EXCEPTION,1),s(b.EXCEPTION),d("Failed to create JSONP call.",h),l("aaxCall",{error:"failedToCreateJSONP"}),r(),l("aaxCall",{JSONPCreationException:{exception:e}})}var h})),e(this,"createXGetAdRequest",((e,t,i,a)=>{Ye(e,(e=>{e&&void 0!==e.html&&e.html?i(e.html):t()}),"aax_render_ad",t,"fallback",a)})),this.c=t||{},this.o=i||{},this.mL=a||{}}};const $e=new class{constructor(){e(this,"isLegacyImpressionMetricFired",!1),e(this,"isPollingImpressionMetricFired",!1),e(this,"fireImpression",(e=>{Xe.c.sendCsmLatencyMetric(I.END,I.SCOPE_NAME),Xe.fireImpressionPixel(e.measurementMethod,e.isNoInventory)})),e(this,"fireMetricsForLegacyImpression",(()=>{var e,t;const i=(null==Xe||null===(e=Xe.o)||void 0===e||null===(t=e.adCreativeMetaData)||void 0===t?void 0:t.adProgramId)?Xe.o.adCreativeMetaData.adProgramId:"unknown",a=We(Xe.o.adCreativeMetaData.adCreativeTemplateName);if(!this.isLegacyImpressionMetricFired){this.isLegacyImpressionMetricFired=!0;const e=g.LEGACY_IMPRESSION_COUNTER;Xe.c.countMetric(e,1,!1),Xe.c.countMetric(e,1,!0),Xe.c.countMetric(e+":program:"+i,1,!0),Xe.c.countMetric(e+":template:"+a,1,!0),Xe.c.sendCsmLatencyMetric(I.LEGACY_END,I.SCOPE_NAME)}})),e(this,"fireMetricsForCremPolling",(e=>{this.isPollingImpressionMetricFired||(this.isPollingImpressionMetricFired=!0,Xe.c.sendCsmLatencyMetric(I.END,I.POLLING_SCOPE),Xe.c.countMetric(f.POLL_END,1,!0),e.isBtr&&Xe.c.countMetric(f.POLL_BTR,1,!0))})),e(this,"sendAdBarTrace",((e,t)=>{Xe.sendMessage("sendAdBarTrace",{field:e,traceInfo:t})})),e(this,"changeSize",((e,t)=>{Xe.sendMessage("changeSize",{width:e,height:t})})),e(this,"logCsaEvent",(e=>{Xe.sendMessage("logCsaEvent",{metricName:e})})),e(this,"addCsaEntity",(e=>{Xe.sendMessage("addEntity",e)})),e(this,"registerCustomMessageListener",((e,t)=>{Xe.mL[e]=t})),e(this,"sendCsmLatencyMetric",((e,t)=>{Xe.sendMessage("sendCsmLatencyMetric",{metric:e,metricMsg:t,timestamp:Date.now()})})),e(this,"markCsaLatencyMetric",(e=>{Xe.sendMessage("markCsaLatencyMetric",{metric:e,timestamp:Date.now()})})),e(this,"countMetric",((e,t,i)=>{Xe.sendMessage("countMetric",{metricMsg:e,value:t,isGlobal:i})})),e(this,"addCsmTag",((e,t,i)=>{Xe.sendMessage("addCsmTag",{tag:e,msg:t,isGlobal:i})})),e(this,"fireViewableLatencyMetrics",(()=>{Xe.sendMessage("fireViewableLatencyMetrics",{adLoadedTimestamp:Date.now()})})),e(this,"customMessage",((e,t)=>{Xe.sendMessage("customMessage",{key:e,body:t})})),e(this,"updateViewability",(e=>{var t,i,n,r,o;const s=J();if(Q(e),!Xe.o.aaxInstrPixelUrl||!s.payload||!s.viewabilityStandards)return;Xe.o.isNoInventory||void 0===e.atf||Xe.fireMeasurabilityPixel(e);const d=(null===window||void 0===window||null===(t=window.$sf)||void 0===t||null===(i=t.ext)||void 0===i?void 0:i.geom)&&(null===window||void 0===window||null===(n=window.$sf)||void 0===n?void 0:n.ext.geom()),l=(null==d||null===(r=d.self)||void 0===r?void 0:r.iv)?null==d||null===(o=d.self)||void 0===o?void 0:o.iv:null;if(a(Xe.o.mediaType)){const e=q();Xe.fireViewablePixelsForVideo(l,s.payload(),s.viewabilityStandards(),Xe.o.isNoInventory,e.playingTime?e.playingTime():null)}else Xe.fireViewablePixels(l,s.payload(),s.viewabilityStandards(),Xe.o.isNoInventory)})),e(this,"updatePlayingTimeForVideo",(e=>{var t,i,a;const n=J();z=e,null===z&&delete $.playingTime;const r=(null===window||void 0===window||null===(t=window.$sf)||void 0===t||null===(i=t.ext)||void 0===i?void 0:i.geom)&&window.$sf.ext.geom(),o=null==r||null===(a=r.self)||void 0===a?void 0:a.iv;if(o&&n.payload&&n.viewabilityStandards){const e=q();Xe.fireViewablePixelsForVideo(o,n.payload(),n.viewabilityStandards(),Xe.o.isNoInventory,e.playingTime?e.playingTime():null)}})),e(this,"loadAdFeedback",(()=>{Xe.sendMessage("loadAdFeedback",Xe.o.adCreativeMetaData)})),e(this,"requestVideoAutoplay",(()=>{Xe.sendMessage("requestVideoAutoplay")})),e(this,"releaseVideoAutoplay",(()=>{Xe.sendMessage("releaseVideoAutoplay")})),e(this,"haveVideoAutoplayPermission",(()=>{Xe.sendMessage("haveVideoAutoplayPermission")})),e(this,"isOnAmazon",(()=>{return e=Xe.o.hostDomain,/\.amazon\.(com?\.)?[a-z]{2,4}:?/i.test(e);var e})),e(this,"sendRelocatedHtmlContentEncodedToAd",(e=>{const t=new window.CustomEvent("loadAdWithRelocatedHtmlContent",{detail:{htmlContentEncoded:e}});document.dispatchEvent(t)}))}},Je="visibilitychange",qe=200;let Qe=!1;const Ke=e=>e.naturalHeight>0&&e.naturalWidth>0,Ze=e=>1===e.naturalHeight&&1===e.naturalWidth,et=e=>"complete"===(e.contentDocument||e.contentWindow&&e.contentWindow.document||{readyState:!1}).readyState,tt=e=>"prerender"===e.visibilityState,it=(e,t)=>{let i=0;const a=setInterval((()=>{const n=e.getElementsByTagName("img"),r=e.getElementsByClassName("mrc-btr-creative"),o=r.length>0,s=e.getElementsByTagName("iframe");o?(clearInterval(a),((e,t)=>{const i=[];let a=0,n=0;const r=setInterval((()=>{for(let t=0;t<e.length;t++){const n=e[t];n instanceof HTMLImageElement&&(Ke(n)?(i[t]={src:n.src,isLoaded:!0},a++):i[t]={src:n.src,isLoaded:!1})}a>0?(clearInterval(r),Qe=!0,t({isBTRCompliant:!0,imagesData:i,isBTRTaggedCreative:!0,isFramed:!1,executionPath:"btrimagefound"})):n>100&&(clearInterval(r),Qe=!0,t({isBTRCompliant:!1,imagesData:i,isBTRTaggedCreative:!0,isFramed:!1,executionPath:"btrimagetimedout"})),n++}),qe)})(r,t)):n.length>0?(clearInterval(a),((e,t)=>{const i=[];let a=0,n=0;const r=setInterval((()=>{for(let t=0;t<e.length;t++){const a=e[t];a instanceof HTMLImageElement&&!Ze(a)&&(Ke(a)?(i[t]={src:a.src,isLoaded:!0},n++):i[t]={src:a.src,isLoaded:!1})}n>0?(clearInterval(r),Qe=!0,t({isBTRCompliant:!0,imagesData:i,isBTRTaggedCreative:!1,isFramed:!1,executionPath:"untaggedimagefound"})):a>=100&&(clearInterval(r),Qe=!0,t({isBTRCompliant:!1,imagesData:i,isBTRTaggedCreative:!1,isFramed:!1,executionPath:"untaggedimagetimedout"})),a++}),qe)})(n,t)):i>=6&&s.length>0?(clearInterval(a),((e,t)=>{const i=[];let a=0,n=0;const r=setInterval((()=>{for(let a=0;a<e.length;a++){const o=e[a];o instanceof HTMLIFrameElement&&null!=o.contentDocument?et(o)?(i[a]={src:o.src,isLoaded:!0},n++):i[a]={src:o.src,isLoaded:!1}:o instanceof HTMLIFrameElement&&null==o.contentDocument&&(clearInterval(r),Qe=!0,t({isBTRCompliant:!1,imagesData:i,isBTRTaggedCreative:!1,isFramed:!0,executionPath:"crossdomainframe"}))}n>0?(clearInterval(r),Qe=!0,t({isBTRCompliant:!1,imagesData:i,isBTRTaggedCreative:!1,isFramed:!0,executionPath:"iframefound"})):a>=100&&(clearInterval(r),Qe=!0,t({isBTRCompliant:!1,imagesData:i,isBTRTaggedCreative:!1,isFramed:!0,executionPath:"iframetimedout"})),a++}),qe)})(s,t)):i>=20&&(clearInterval(a),Qe=!0,t({isBTRCompliant:!1,imagesData:[],isBTRTaggedCreative:!1,isFramed:!1,executionPath:"adfindingtimedout"})),i++}),500)},at=(e,t,i)=>{if(window.addEventListener("pagehide",(()=>{Qe||i({isBTRCompliant:!1,imagesData:[],isBTRTaggedCreative:!1,isFramed:!1,executionPath:"pagehide"})}),{once:!0}),tt(e)){const a=()=>{tt(e)||(it(t,i),e.removeEventListener(Je,a))};e.addEventListener(Je,a)}else it(t,i)};var nt,rt,ot=new RegExp(/((&#[0-9]{2};)|(&#[0-9]{3};)|(&#[0-9]{4};)|(&[a-z]{2};)|(&[a-z]{3};)|(&[a-z]{4};)|(&[a-z]{5};)|(&[a-z]{6};)|(&[a-z]{7};)|(%[a-fA-F0-9]{2})|(\W))pd_rd_plhdr(=|%3D)t((&#[0-9]{2};)|(&#[0-9]{3};)|(&#[0-9]{4};)|(&[a-z]{2};)|(&[a-z]{3};)|(&[a-z]{4};)|(&[a-z]{5};)|(&[a-z]{6};)|(&[a-z]{7};)|(%[a-fA-F0-9]{2})|(\W))/),st="$1",dt="$14";rt=function(){return document};var lt="data-val";function ct(e){if("string"!=typeof e||""===e)return"";var t=rt().getElementById("ape_"+e+"_placement_ClickTracking");if(!(t&&t.hasAttribute&&"function"==typeof t.hasAttribute&&t.hasAttribute(lt)&&t.getAttribute&&"function"==typeof t.getAttribute))return"";var i=t.getAttribute(lt);return"string"!=typeof i?"":i}nt=function(e,t){var i=t,a=e;if("string"!=typeof e||"&pd_rd_plhdr=t"===e||""===e.trim())return i;(a=a.replace(/&amp;/g,"&")).startsWith("&")&&(a=a.replace(/^&+/,"")),a.endsWith("&")&&(a=a.replace(/&+$/,""));try{var n,r=0;do{if(r++,!(n=i.match(ot)))break;var o=n[1],s=n[14],d=n[13],l=o.startsWith("&")&&o.endsWith(";")||s.startsWith("&")&&s.endsWith(";"),c=o.startsWith("%")&&s.startsWith("%")&&"%3D"===d;i=l?i.replace(ot,st+a.replace(/&/g,"&amp;")+dt):c?i.replace(ot,st+encodeURIComponent(a)+dt):i.replace(ot,st+a+dt)}while(n&&r<10)}catch(e){return t}return i};class mt{logError(e,t,i){Xe.sendMessage("logError",{message:e,error:t,level:i})}isSupported(){return"function"==typeof parent.postMessage}getARID(){return Xe.o.arid}getAanResponse(){return window.aanResponse||(window.document.aanResponse?window.document.aanResponse[Xe.o.slotName+"adData"]:{})}sendAdInfo(e){e&&Xe.o.adCreativeMetaData&&(Xe.o.adCreativeMetaData.adCreativeDetails=e)}logSafeframeResourceTimingData(){Xe.sendMessage("logSafeframeResourceTimingData",{resourceTimingData:performance.getEntriesByType("resource"),navigationStartTime:performance.timing.navigationStart})}constructor(t,i){e(this,"doneFunc",void 0),e(this,"renderFallbackExperience",void 0),e(this,"collapseSlot",{apiFunc:()=>{Xe.c.forceFallback()},logInvocation:!0}),e(this,"handleFallbackBehavior",{apiFunc:()=>{Xe.c.forceFallback()},logInvocation:!0}),e(this,"getDebugInfo",(e=>{const t=this.getAanResponse(),i={slot:Xe.o.slot,slotName:Xe.o.slotName,shazamId:t.shazamId,creativeId:t.creativeId||t.cid,adId:t.adId||t.aid,src:Xe.o.src,iframeHtml:window.document.body.innerHTML||""};Xe.c.customMessage(e.key,i)})),e(this,"getQueryParam",{apiFunc:e=>{Xe.c.countMetric("getqueryparam:"+e,1);let t="";return void 0!==Xe.o.queryParams&&"string"==typeof e&&(0!==e.indexOf("sf-")&&(t="sf-"+e),t=Xe.o.queryParams[t]||""),t},logInvocation:!0}),e(this,"getPlacementInfo",{apiFunc:()=>({slot:Xe.o.slot,slotName:Xe.o.slotName,pageType:Xe.o.pageType}),logInvocation:!0}),e(this,"executePostCreativeRenderingSteps",(()=>{this.doneFunc()})),e(this,"forceFallback",{apiFunc:()=>{this.renderFallbackExperience(!0)},logInvocation:!0}),this.doneFunc=t,this.renderFallbackExperience=i}}let ut,ht;class gt{initSFClient(){const e=Y;window.$sf=e,window.$sfViewableInfo=this.$sfViewableInfo,ut=new mt(this.done,this.renderFallbackExperience);const t=Object.assign({},$e,ut);if(Object.getOwnPropertyNames(Object.getPrototypeOf($e)).map((e=>e.toString())).forEach((e=>{t[e]=$e[e]})),Object.getOwnPropertyNames(Object.getPrototypeOf(ut)).forEach((e=>{t[e]=ut[e]})),Xe.produceClientAPIs(t),window.onerror=this.handleErrors,document.open=(...e)=>{this.nativeOpen(...e),this.ensureGlobals()},i(),window.navigator&&window.navigator.geolocation&&(window.navigator.geolocation.watchPosition=(e,t,i)=>0,window.navigator.geolocation.getCurrentPosition=()=>{}),document.write=this.renderHtml,window.addEventListener("message",Xe.receiveMessage),!window.name)return void Ve("No ad data found");Xe.o=JSON.parse(window.name),window.name="";const a=window.addEventListener,n=window.removeEventListener;window.addEventListener=(e,t,i)=>{a.call(window,e,t,i)},window.removeEventListener=(e,t,i)=>{(e=>{let t=String(e);return t=t.toLowerCase(),"message"===t||"onmessage"===t})(e)||n.call(window,e,t,i)},window.writeAdHandler=null,Xe.c.sendCsmLatencyMetric("be"),Xe.c.markCsaLatencyMetric("bodyEnd"),Xe.sendMessage("safeFrameReady"),Xe.c.countMetric(l.IFRAME_INIT,1),Xe.c.logCsaEvent(R.IFRAME_INIT),Xe.o.disableResizeFunc||Xe.sendMessage("resizeSafeFrameAd"),Xe.o.resizePlacementStyle&&Xe.sendMessage("setResizePlacementStyle");const r={serverSide:Xe.o.serverSideFetchAd};if(r.serverSide=Xe.o.serverSideFetchAd,"true"!==Xe.o.abpAcceptable&&Xe.o.enableFallbackForAbpStatuses&&Xe.o.enableFallbackForAbpStatuses.indexOf(s[Xe.o.abpStatus])>-1)this.renderFallbackExperience(!0);else if("true"===Xe.o.serverSideFetchAd){var o;if(Xe.o.htmlContentEncoded){const e=d(Xe.o.htmlContentEncoded),t=d(Xe.o.measurementHtmlEncoded?Xe.o.measurementHtmlEncoded:"");r.htmlContent=e,window.writeAdHandler=()=>{this.loadAd(e,t)}}else(null===(o=Xe.o.expParams)||void 0===o?void 0:o.ilmRelocatedHtmlIsActive)?window.writeAdHandler=()=>{var e,t;e=this.loadAd,t=Xe.o.measurementHtmlEncoded,document.addEventListener("loadAdWithRelocatedHtmlContent",(i=>{const a=d(i.detail.htmlContentEncoded),n=d(t||"");e(a,n)}),{once:!0})}:(Xe.handleNoAdContent(),r.noAdContent=!0)}else{const e=(c=Xe.o.hostDomain,/^https/.test(c)?He(Xe.o.src):Xe.o.src);r.adSource=e,e&&-1!==e.indexOf("x/getad")?(window.writeAdHandler=()=>{Xe.createXGetAdRequest(e,this.renderFallbackExperience,document.write,document.getElementsByTagName("body")[0])},r.isXsp=!1):(window.writeAdHandler=()=>{Xe.createXspRequest(e,Xe.o,Xe.handleNoAdContent,this.loadAd,document.getElementsByTagName("body")[0])},r.isXsp=!0)}var c;Xe.c.sendAdBarTrace("adRenderFlow",r),Xe.mL.initAdReporter=e=>{try{window.adReporterConfig=e;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.charset="utf-8",t.src=e&&e.adReporterClientUrl?e.adReporterClientUrl:"",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t),Xe.sendMessage("saveAdDetailsForAdReporter")}catch(e){Ve("Error appending adReporterClient script",e)}}}logSafeframeResourceTimingData(){Xe.o.collectSafeframeRTD&&(null===performance||void 0===performance?void 0:performance.getEntriesByType)?Xe.c.logSafeframeResourceTimingData():(Xe.c.countMetric(h.DEPENDENCIES_NOT_MET,1),Xe.c.logCsaEvent(S.DEPENDENCIES_NOT_MET))}constructor(){e(this,"$sfViewableInfo",void 0),e(this,"nativeWrite",void 0),e(this,"nativeOpen",void 0),e(this,"hasWrittenBefore",!1),e(this,"isDone",!1),e(this,"handleErrors",((e,t,i,a,n)=>{const r=n||new Error(e.toString());return Xe.c.isSupported()?Xe.c.logError(r.message,r):Ve("Error in Safeframe window ",r),this.renderFallbackExperience(),!0})),e(this,"ensureGlobals",(()=>{window.onerror=this.handleErrors,window.$sf=Y,window.$sfViewableInfo=this.$sfViewableInfo,window.aaxInstrPixelUrl=Xe.o.aaxInstrPixelUrl})),e(this,"renderHtml",(e=>{Xe.c.countMetric(l.RENDER_START,1),Xe.c.logCsaEvent(R.RENDER_START);const t={readyState:document.readyState};t.readyState=document.readyState,Xe.c.sendAdBarTrace("renderHtmlContentStart",t),o(e),r(document.documentElement),this.ensureGlobals(),this.hasWrittenBefore=!0,this.addOnLoadListeners(),setTimeout(this.done,0),Xe.c.countMetric(l.RENDER_END,1),Xe.c.logCsaEvent(R.RENDER_END),t.readyState=document.readyState,Xe.c.sendAdBarTrace("renderHtmlContentEnd",t)})),e(this,"addOnLoadListeners",(()=>{window.addEventListener("load",(()=>{this.isLdFired||(this.isLdFired=!0,Xe.c.sendCsmLatencyMetric("ld"),Xe.c.markCsaLatencyMetric("loaded"))})),window.addEventListener("load",Xe.c.fireViewableLatencyMetrics),window.addEventListener("load",this.logSafeframeResourceTimingData)})),e(this,"isLdFired",!1),e(this,"renderFallbackExperience",(e=>{const i=(e,i,a)=>{const n='<a target="_top" href="'+i+'"><img src="'+e+'" '+(a||"")+"></a>";document.documentElement.innerHTML=n,this.ensureGlobals(),t(Xe.receiveMessage),Xe.c.loadAdFeedback(),this.isDone=!0};if(!this.hasWrittenBefore||e){Xe.o.fallbackStaticAdImgUrl&&Xe.o.fallbackStaticAdClickUrl?(i(Xe.o.fallbackStaticAdImgUrl,Xe.o.fallbackStaticAdClickUrl,Xe.o.fallbackStaticAdExtraStyle),this.hasWrittenBefore=!0):Xe.sendMessage("collapseSlot")}})),e(this,"done",(()=>{const e=e=>{const t=e&&e.isBTRCompliant;Xe.sendMessage("startPixelTrackingForCremPolling",{isBtr:t}),e&&e.executionPath&&e.executionPath.length>0?Xe.c.countMetric("crem:"+e.executionPath,1,!0):Xe.c.countMetric("crem:nullresponse",1,!0)};t(Xe.receiveMessage);const i={};this.isDone?i.firstInvocation=!1:(i.firstInvocation=!0,this.isDone=!0,Xe.c.loadAdFeedback(),Xe.sendMessage("startPixelTrackingForLegacyImpression"),at(document,document.body,e),V(Xe.c,(e=>{Xe.sendMessage("startPixelTracking",{measurementMethod:e})})),Xe.o.adCreativeMetaData&&Xe.fireImageLoaded(Xe.o.adCreativeMetaData.adCreativeTemplateName),Xe.c.countMetric(l.CREATIVE_WRITTEN,1),Xe.c.logCsaEvent(R.CREATIVE_WRITTEN)),Xe.c.sendAdBarTrace("doneFunction",i)})),e(this,"loadAd",((e,t)=>{if(Xe.o.isNoInventory=!1,Xe.tagRenderFlow(),!this.hasWrittenBefore){let o=e;Xe.o.clickTracking&&(o=nt(Xe.o.clickTracking,o)),t&&t.length&&(Xe.c.countMetric(l.MEASUREMENT_HTML,1),Xe.c.logCsaEvent(R.MEASUREMENT_HTML)),i=Xe.o.mediaType,r=Xe.o.adCreativeMetaData.adProgramId,a(i)&&!n.hasOwnProperty(r)?Ge(window,Xe,o):("string"==typeof t&&(o=o.concat(t)),this.renderHtml(o))}var i,r})),this.$sfViewableInfo=J(),this.nativeWrite=document.write.bind(document),this.nativeOpen=document.open.bind(document)}}window.SFClient||((e=>{const t=["ca","mx","br","de","uk","fr","it","es","in","ae","sa","nl","tr","se","jp","au","cn","sg","eg","pl","be"].join("|");return new RegExp("\\.amazon(\\.com?)?(\\.("+t+"))?(:(\\d){1,6})?(/.*)?$","i").test(e)||/\.(imdb|boxofficemojo|dpreview)\.com(:(\d){1,6})?(\/.*)?$/i.test(e)})(document.referrer)?(ht=new gt,ht.initSFClient()):ht=null),window.SFClient=Xe.c,window.dcmads=window.dcmads||{},window.dcmads.eids="4|40004007","function"==typeof window.writeAdHandler&&window.writeAdHandler()}();
//# sourceMappingURL=sf.min.js.map
        </script><script src="./getAdj"></script>
    

</body></html>